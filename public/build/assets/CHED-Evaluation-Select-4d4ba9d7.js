import{m as c,T as te,h as oe,E as se,A as u,o as s,f as a,a as i,w as o,F as U,b as e,i as d,B as P,u as v,z as ae,D as H,C as ne,n as D,t as $,g as Y,p as b,d as I,O as p}from"./app-fe511cab.js";import le from"./Layout-4e2e1be8.js";const ie=e("button",{class:"select-none text-blue-500 h-10 mr-8 border-b-2 font-bold border-blue-500"}," Evaluation ",-1),ce=e("button",{class:"select-none text-gray-500 hover:text-black"}," Archived ",-1),re={class:"w-full flex justify-end relative"},de=e("i",{class:"fas fa-search"},null,-1),ue=[de],he=e("option",{value:"2023-2024"},"A.Y. 2023-24",-1),_e=e("option",{value:"2024-2025"},"A.Y. 2024-25",-1),ve=e("option",{value:"2025-2026"},"A.Y. 2025-26",-1),pe=e("option",{value:"2026-2027"},"A.Y. 2026-27",-1),fe=e("option",{value:"2027-2028"},"A.Y. 2027-28",-1),be=e("option",{value:"2028-2029"},"A.Y. 2028-29",-1),ge=e("option",{value:"2029-2030"},"A.Y. 2029-30",-1),me=[he,_e,ve,pe,fe,be,ge],ye={class:"mr-1"},we=e("button",{class:"w-10 h-10 whitespace-nowrap rounded-full text-gray-700 hover:text-blue-500 active:text-white active:bg-blue-600 tooltipForActions","data-tooltip":"Refresh page"},[e("i",{class:"fas fa-refresh"})],-1),ke=e("th",{class:"p-3 pl-5 border-b border-gray-400"},"Program/Institution",-1),xe=e("th",{class:"p-3 border-b border-gray-400"},"Status",-1),Ce=e("th",{class:"p-3 border-b border-gray-400"},"Progress",-1),Se=e("th",{class:"p-3 border-b border-gray-400 text-right"},[e("i",{class:"fas fa-ellipsis-v"})],-1),Ee={key:0},Ae=e("td",{colspan:"3",class:"p-3 py-10 text-center"},"No evaluation tool found",-1),Me=[Ae],Fe={class:"p-3 pl-5"},Te={class:"font-bold"},$e={class:"p-3"},Ye={key:0,class:"bg-red-500 text-white w-fit px-1 py-0.5 rounded text-xs"},Ie={key:1,class:"bg-blue-500 text-white w-fit px-1 py-0.5 rounded text-xs"},Le={key:2,class:"bg-emerald-500 text-white w-fit px-1 py-0.5 rounded text-xs"},Ve={class:"p-3"},Ne={class:"font-bold text-sm px-1 py-0.5 rounded w-fit"},Be={class:"p-3 text-right"},Ue=["onClick"],Pe=e("i",{class:"fas fa-eye"},null,-1),He=[Pe],De=["onClick"],ze=e("i",{class:"fas fa-edit"},null,-1),Oe=[ze],Re=["onClick"],je=e("i",{class:"fas fa-unlock"},null,-1),qe=[je],Ke=["onClick"],We=e("i",{class:"fas fa-lock"},null,-1),Ge=[We],Je=["onClick"],Qe=e("i",{class:"fas fa-envelope"},null,-1),Xe=[Qe],Ze=["onClick"],et=e("i",{class:"fas fa-archive"},null,-1),tt=[et],ot=e("div",{class:"mr-2"},"Items per page",-1),st=e("option",{value:"25"},"25",-1),at=e("option",{value:50},"50",-1),nt=e("option",{value:75},"75",-1),lt=e("option",{value:100},"100",-1),it=e("option",{value:200},"200",-1),ct=[st,at,nt,lt,it],rt=["disabled"],dt={key:0},ut=e("i",{class:"fas fa-spinner animate-spin"},null,-1),ht=[ut],_t={key:1},vt=["disabled"],pt={key:0},ft=e("i",{class:"fas fa-spinner animate-spin"},null,-1),bt=[ft],gt={key:1},mt=["disabled"],yt={key:0},wt=e("i",{class:"fas fa-spinner animate-spin"},null,-1),kt=[wt],xt={key:1},Ct=e("label",{for:"emailBody",class:"font-bold mb-2"},"Message",-1),St=["disabled"],Et={key:0},At=e("i",{class:"fas fa-spinner animate-spin"},null,-1),Mt=[At],Ft={key:1},Tt={layout:le},It=Object.assign(Tt,{__name:"CHED-Evaluation-Select",props:["complianceTools","filters","canEvaluate","canEmail"],setup(r){const C=r,g=c(null),S=c(!1),m=c(!1),E=c(!1),y=c(!1),A=c(!1),w=c(!1),h=te({academicYear:C.filters.academicYear,show:C.filters.show,search:C.filters.search}),M=c(!1),k=c(!1),L=c(0);function V(){M.value=!M.value}function z(l){L.value=l}oe(()=>`We wanted to inform you of the current status of your program self-evaluation. As of now, your progress stands at ${L.value}%. If you have any questions or need assistance, please feel free to contact us.`);const _=se({toolId:null,body:null});function O(){p.post("/evaluation/notify",_,{onStart:()=>{k.value=!0},onFinish:()=>{k.value=!1},preserveState:!1,preserveScroll:!0})}function R(l){p.get("/ched/evaluation/"+l+"/evaluate",{preserveScroll:!0,preserveState:!1})}function j(l){p.get("/ched/evaluation/"+l+"/view")}function x(){h.get("/ched/evaluation",{preserveState:!0,preserveScroll:!0})}function F(l){g.value=l}function q(){p.post("/ched/evaluation/lock",{id:g.value},{onStart:()=>{m.value=!0},onFinish:()=>{m.value=!1},preserveState:!1,preserveScroll:!0})}function K(){p.post("/ched/evaluation/unlock",{id:g.value},{onStart:()=>{y.value=!0},onFinish:()=>{y.value=!1},preserveState:!1,preserveScroll:!0})}function W(l){p.post("/ched/evaluation/archive",{id:g.value},{onStart:()=>{w.value=!0},onFinish:()=>{w.value=!1},preserveState:!1,preserveScroll:!0})}return(l,n)=>{const G=u("Head"),J=u("page-title"),N=u("Link"),Q=u("content-table"),X=u("content-container"),T=u("confirmation-modal"),Z=u("modal"),B=u("Notification");return s(),a(U,null,[i(G,{title:"Program Self-Evaluation"}),i(J,{title:"Program Evaluation"}),i(X,{hasSearch:"true",pageTitle:"Monitoring / Evaluation",hasNavigation:!0,page:"evaluation",hasTopButton:!0,hasFilters:!0,data_list:r.complianceTools},{navigation:o(()=>[e("div",null,[ie,i(N,{href:l.route("ched.evaluation.archive")},{default:o(()=>[ce]),_:1},8,["href"])])]),search:o(()=>[e("div",re,[d(e("input",{onKeydown:ae(x,["enter"]),"onUpdate:modelValue":n[0]||(n[0]=t=>v(h).search=t),type:"search",id:"content-search",placeholder:"Search",class:"w-full rounded border border-gray-400 bg-slate-100 h-10 text-base placeholder-gray-400 pr-11 mr-2"},null,544),[[P,v(h).search]]),e("button",{onClick:x,class:"text-gray-700 hover:text-black active:text-blue-500 h-10 w-10 rounded absolute right-2"},ue)])]),"top-button":o(()=>[d(e("select",{onChange:x,"onUpdate:modelValue":n[1]||(n[1]=t=>v(h).academicYear=t),id:"academicYearSelect",class:"h-10 rounded text-sm"},me,544),[[H,v(h).academicYear]])]),options:o(()=>[e("div",ye,[i(N,{href:"/evaluation"},{default:o(()=>[we]),_:1})])]),"main-content":o(()=>[i(Q,null,{"table-head":o(()=>[ke,xe,Ce,Se]),"table-body":o(()=>[r.complianceTools.data.length==0?(s(),a("tr",Ee,Me)):(s(!0),a(U,{key:1},ne(r.complianceTools.data,(t,ee)=>(s(),a("tr",{key:t.id,class:D(["hover:bg-slate-300",{"bg-slate-200":ee%2==0}])},[e("td",Fe,[e("div",null,$(t.program),1),e("div",Te,$(t.institution),1)]),e("td",$e,[t.status=="Locked"?(s(),a("div",Ye," Locked ")):Y("",!0),t.status=="In progress"?(s(),a("div",Ie," In Progress ")):Y("",!0),t.status=="Submitted"?(s(),a("div",Le," Ready for visit ")):Y("",!0)]),e("td",Ve,[e("div",Ne,$(t.progress)+"% ",1)]),e("td",Be,[e("button",{onClick:f=>j(t.id),class:"select-none w-10 h-10 bg-green-600 hover:bg-green-700 text-white rounded mr-1 tooltipForActions","data-tooltip":"View"},He,8,Ue),d(e("button",{onClick:f=>R(t.id),class:"select-none w-10 h-10 text-white bg-blue-500 hover:bg-blue-600 rounded mr-1 tooltipForActions","data-tooltip":"Evaluate"},Oe,8,De),[[b,r.canEvaluate]]),t.isLocked?d((s(),a("button",{key:0,onClick:f=>{F(t.id),E.value=!0},class:"select-none w-10 h-10 text-white bg-red-500 hover:bg-red-600 rounded mr-1 tooltipForActions","data-tooltip":"Unlock"},qe,8,Re)),[[b,r.canEvaluate]]):d((s(),a("button",{key:1,onClick:f=>{F(t.id),S.value=!0},class:"select-none w-10 h-10 text-white bg-red-500 hover:bg-red-600 rounded mr-1 tooltipForActions","data-tooltip":"Lock"},Ge,8,Ke)),[[b,r.canEvaluate]]),d(e("button",{onClick:f=>{z(t.progress),V(),_.toolId=t.id},class:"select-none w-10 h-10 text-white bg-orange-500 hover:bg-orange-600 rounded mr-1 tooltipForActions","data-tooltip":"Send Email"},Xe,8,Je),[[b,r.canEmail]]),d(e("button",{onClick:f=>{F(t.id),A.value=!0},class:"select-none w-10 h-10 text-white bg-gray-500 hover:bg-gray-600 rounded tooltipForActions","data-tooltip":"Archive"},tt,8,Ze),[[b,r.canEvaluate]])])],2))),128))]),_:1})]),"show-item":o(()=>[ot,d(e("select",{"onUpdate:modelValue":n[2]||(n[2]=t=>v(h).show=t),id:"showResultCount",onChange:x,class:"select-none rounded h-8 w-20 p-1 text-sm"},ct,544),[[H,v(h).show]])]),_:1},8,["data_list"]),i(T,{showModal:S.value,onClose:n[3]||(n[3]=t=>S.value=!1),title:"Lock Evaluation Tool"},{message:o(()=>[I(" Are you sure you want to lock this compliance evaluation tool? This action will prevent any further inputs from HEI. ")]),buttons:o(()=>[e("button",{onClick:q,disabled:m.value,class:"select-none text-white h-10 w-20 rounded bg-red-500"},[m.value?(s(),a("span",dt,ht)):(s(),a("span",_t,"Lock"))],8,rt)]),_:1},8,["showModal"]),i(T,{showModal:E.value,onClose:n[4]||(n[4]=t=>E.value=!1),title:"Unlock Evaluation Tool"},{message:o(()=>[I(" Are you sure you want to unlock this compliance evaluation tool? This action will enable inputs from HEI. ")]),buttons:o(()=>[e("button",{onClick:K,disabled:y.value,class:"select-none text-white h-10 w-20 rounded bg-blue-500"},[y.value?(s(),a("span",pt,bt)):(s(),a("span",gt,"Unlock"))],8,vt)]),_:1},8,["showModal"]),i(T,{showModal:A.value,onClose:n[5]||(n[5]=t=>A.value=!1),title:"Archive Evaluation Tool"},{message:o(()=>[I(" Are you sure you want to archive this compliance evaluation tool? ")]),buttons:o(()=>[e("button",{onClick:W,disabled:w.value,class:"select-none text-white h-10 w-20 rounded bg-blue-500"},[w.value?(s(),a("span",yt,kt)):(s(),a("span",xt,"Archive"))],8,mt)]),_:1},8,["showModal"]),i(Z,{showModal:M.value,title:"Compose Email",onClose:V},{"custom-button":o(()=>[e("button",{onClick:O,disabled:k.value||_.body=="",class:D(["text-white bg-blue-600 hover:bg-blue-700 w-24 py-2 px-3 rounded border",[{"bg-gray-600 hover:bg-gray-700":_.body==""}]])},[k.value?(s(),a("span",Et,Mt)):(s(),a("span",Ft,"Send"))],10,St)]),default:o(()=>[e("div",null,[Ct,d(e("textarea",{class:"w-full h-52 resize-none",placeholder:"Compose email here",id:"emailBody","onUpdate:modelValue":n[6]||(n[6]=t=>_.body=t)},`\r
            `,512),[[P,_.body]])])]),_:1},8,["showModal"]),i(B,{message:l.$page.props.flash.success,type:"success"},null,8,["message"]),i(B,{message:l.$page.props.flash.failed,type:"failed"},null,8,["message"])],64)}}});export{It as default};
