import{h as w,T as S,A as f,o as i,f as d,a as y,w as p,F as _,b as e,d as U,t as b,i as u,D as I,u as l,C as x,p as $,B as h,c as F,n as N,g}from"./app-251762d9.js";import O from"./Layout-a6df9f1a.js";const R={class:"font-bold text-gray-600 p-2"},B=e("i",{class:"fas fa-file-excel mr-2"},null,-1),D={class:"overflow-x-auto pb-5"},z=e("div",{class:"px-3 pt-3 font-bold text-gray-600 text-base"}," CMO Details ",-1),E={class:"w-full flex items-center justify-between p-3"},P={class:"w-full flex flex-col"},T={class:"flex flex-col lg:flex-row"},j={class:"w-full m-1 flex flex-col"},H=e("label",{for:"discipline",class:"font-bold text-gray-600"},"Discipline",-1),L=e("option",{value:""},"Select discipline",-1),G=["value"],J={class:"w-full m-1 flex flex-col"},K=e("label",{for:"program",class:"font-bold text-gray-600"},"Program",-1),Q=["disabled"],W=e("option",{value:""},"Select program",-1),X=["value"],Y={class:"flex flex-col lg:flex-row"},Z={class:"w-full flex flex-col mt-2"},ee=e("label",{for:"number",class:"font-bold text-gray-600"},"CMO No.",-1),te={class:"w-full flex flex-col mt-2"},oe=e("label",{for:"series",class:"font-bold text-gray-600"},"Series",-1),se={class:"w-full flex flex-col mt-2"},le=e("label",{for:"version",class:"font-bold text-gray-600"},"Version",-1),re={class:"w-full flex flex-row items-center mt-3"},ne={class:"flex flex-row items-center h-12 px-4 rounded border border-gray-400"},ae=e("label",{for:"showItemsChkbx"},"Show all items",-1),ie=e("th",{class:"px-2 py-3 border-t border-gray-400"},"Item No",-1),de=e("th",{class:"px-2 py-3 border-t border-gray-400"},"Area",-1),ce=e("th",{class:"px-2 py-3 border-t border-gray-400"},"Minimum Requirement",-1),ue={key:0,class:"w-24 text-center align-top py-5 font-bold"},me={key:1,class:"max-w-18 w-1/4 min-w-18 py-5 px-2 align-top"},pe=["id","onUpdate:modelValue","onFocus","onInput"],he={key:2,class:"min-w-18 py-5 px-2 align-top"},fe=["id","onUpdate:modelValue","onFocus","onInput"],_e={data(){return{showItems:!1}},layout:O,methods:{handleAreaInput(c){let a=this.$refs.area[c-1];a.style.height="18px",a.style.height=a.scrollHeight+"px"},handleMinreqInput(c){let a=this.$refs.minreq[c-1];a.style.height="18px",a.style.height=a.scrollHeight+"px"},toggleShowItems(){this.showItems=!this.showItems}}},ye=Object.assign(_e,{__name:"CMO-Upload",props:{file:Array,file_name:String,discipline_list:Array,program_list:Array},setup(c){const a=c,v=w(()=>{let n=[];for(var t=0;t<a.file[0].length;t++)n.push(a.file[0][t][0]);return n}),C=w(()=>{let n=[];for(var t=0;t<a.file[0].length;t++)n.push(a.file[0][t][1]);return n}),s=S({discipline:"",program:"",number:null,series:null,version:null,area:v,minReq:C});function k(){s.post("/admin/CMOs/store",s)}return(n,t)=>{const V=f("AdminPanel"),q=f("FormErrorMessage"),A=f("content-table"),M=f("content-container");return i(),d(_,null,[y(V),y(M,{placeholder:"Search CMO"},{channel:p(()=>[e("div",R,[B,U(b(c.file_name),1)])]),"content-head":p(()=>[e("div",D,[z,e("div",E,[e("div",P,[e("div",T,[e("div",j,[H,u(e("select",{id:"discipline","onUpdate:modelValue":t[0]||(t[0]=o=>l(s).discipline=o),class:"py-1 px-3 h-10 text-sm border border-gray-400 rounded mt-1",onChange:t[1]||(t[1]=o=>l(s).program="")},[L,(i(!0),d(_,null,x(c.discipline_list,o=>(i(),d("option",{key:o.id,value:o.id},b(o.discipline),9,G))),128))],544),[[I,l(s).discipline]])]),e("div",J,[K,u(e("select",{id:"program","onUpdate:modelValue":t[2]||(t[2]=o=>l(s).program=o),class:"py-1 px-3 h-10 text-sm border border-gray-400 rounded mt-1",disabled:!l(s).discipline},[W,(i(!0),d(_,null,x(c.program_list,o=>u((i(),d("option",{key:o.id,value:o.id},b(o.program),9,X)),[[$,o.disciplineId==l(s).discipline]])),128))],8,Q),[[I,l(s).program]])])]),e("div",Y,[e("div",Z,[ee,u(e("input",{id:"number",type:"number",placeholder:"CMO No.","onUpdate:modelValue":t[3]||(t[3]=o=>l(s).number=o),class:"h-10 m-1 rounded text-sm border border-gray-400"},null,512),[[h,l(s).number]]),y(q,{message:this.$page.props.errors.number},null,8,["message"])]),e("div",te,[oe,u(e("input",{id:"series",type:"number",placeholder:"Series","onUpdate:modelValue":t[4]||(t[4]=o=>l(s).series=o),class:"h-10 m-1 rounded text-sm border border-gray-400"},null,512),[[h,l(s).series]])]),e("div",se,[le,u(e("input",{id:"version",type:"number",placeholder:"Version","onUpdate:modelValue":t[5]||(t[5]=o=>l(s).version=o),class:"h-10 m-1 rounded text-sm border border-gray-400"},null,512),[[h,l(s).version]])])])])]),e("div",re,[e("button",{onClick:k,class:"p-3 m-3 border w-24 border-gray-300 text-gray-100 rounded bg-blue-500 hover:bg-blue-600 hover:text-white"}," Save "),e("div",ne,[e("input",{ref:"showItemsChk",type:"checkbox",id:"showItemsChkbx",class:"mr-2",onChange:t[6]||(t[6]=(...o)=>n.toggleShowItems&&n.toggleShowItems(...o))},null,544),ae])])])]),content:p(()=>[n.showItems?(i(),F(A,{key:0},{"table-head":p(()=>[ie,de,ce]),"table-body":p(()=>[(i(!0),d(_,null,x(v.value,(o,r)=>(i(),d("tr",{key:r,class:N({"bg-slate-200":r%2==1})},[r>0?(i(),d("td",ue,b(r),1)):g("",!0),r>0?(i(),d("td",me,[u(e("textarea",{ref_for:!0,ref:"area",id:"area"+r,"onUpdate:modelValue":m=>l(s).area[r]=m,class:"areaInput min-h-max h-10 resize-none text-sm rounded w-full overflow-hidden border border-gray-400",onFocus:m=>n.handleAreaInput(r),onInput:m=>n.handleAreaInput(r)},null,40,pe),[[h,l(s).area[r]]])])):g("",!0),r>0?(i(),d("td",he,[u(e("textarea",{ref_for:!0,ref:"minreq",id:"minReq"+r,"onUpdate:modelValue":m=>l(s).minReq[r]=m,class:"minreqInput min-h-max resize-none text-sm bg-white rounded w-full overflow-hidden border border-gray-400",onFocus:m=>n.handleMinreqInput(r),onInput:m=>n.handleMinreqInput(r)},null,40,fe),[[h,l(s).minReq[r]]])])):g("",!0)],2))),128))]),_:1})):g("",!0)]),_:1})],64)}}});export{ye as default};
