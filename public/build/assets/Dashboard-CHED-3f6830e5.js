import{T as H,m as h,A as m,o as l,f as a,a as c,b as e,d as y,t as r,g as b,i as u,D as f,u as n,p as g,F as _,C as w,w as S,N as v,I as j,O as E}from"./app-ee162bce.js";import T from"./Layout-a469915b.js";const U={class:"mx-3 md:mx-8 mt-5 border border-gray-400 rounded p-3 bg-white flex flex-col lg:flex-row justify-between items-center"},O={key:0},$={key:1},B={key:0},F={class:"flex flex-col lg:flex-row w-full lg:w-auto"},L={class:"flex flex-col lg:flex-row items-center lg:whitespace-nowrap w-full lg:w-auto"},R={class:"lg:mr-2 w-full lg:w-auto"},q=e("option",{value:null},"All",-1),z=e("option",{value:"hei"},"HEI",-1),M=e("option",{value:"program"},"Program",-1),G=[q,z,M],J=e("option",{value:null},"HEI/Program",-1),K=[J],Q=e("option",{value:null},"Select HEI",-1),W=["value"],X=e("option",{value:null},"Select program",-1),Z=["value"],ee={key:0},te={class:"flex flex-row mt-5 lg:mt-0"},oe=j('<option value="2023-2024">A.Y. 2023-2024</option><option value="2024-2025">A.Y. 2024-2025</option><option value="2025-2026">A.Y. 2025-2026</option><option value="2026-2027">A.Y. 2026-2027</option><option value="2027-2028">A.Y. 2027-2028</option><option value="2028-2029">A.Y. 2028-2029</option><option value="2029-2030">A.Y. 2029-2030</option>',7),se=[oe],le=e("button",{class:"h-8 select-none whitespace-nowrap border border-gray-500 rounded px-2"},[e("i",{class:"fas fa-cog mr-1"}),e("i",{class:"fas fa-caret-down"})],-1),ae={class:"mx-3 md:mx-8 mt-5 flex flex-col lg:flex-row justify-between"},re={class:"w-full lg:w-1/2 lg:mr-5"},ne={class:"flex flex-col lg:flex-row"},ie={class:"bg-white border border-gray-400 rounded p-5 mt-2 lg:mt-0 mr-5 w-full"},de={class:"text-lg font-bold"},ce=e("div",{class:"text-blue-500"},"Ready for visit",-1),ue={class:"bg-white border border-gray-400 rounded p-5 mt-2 lg:mt-0 w-full"},he={class:"text-lg font-bold"},ge=e("div",{class:"text-blue-500"},"In progress",-1),me={class:"flex flex-col lg:flex-row mt-0 lg:mt-3"},pe={class:"bg-white border border-gray-400 rounded p-5 mt-2 lg:mt-0 mr-5 w-full"},fe={class:"text-lg font-bold"},_e=e("div",{class:"text-blue-500"},"Pending",-1),ve={class:"bg-white border border-gray-400 rounded p-5 mt-2 lg:mt-0 w-full"},be={class:"text-lg font-bold"},we=e("div",{class:"text-blue-500"},"Archived",-1),xe={class:"w-full lg:w-1/2 border border-gray-400 bg-white rounded mt-3 lg:mt-0"},ye=e("div",{class:"p-3 border-b border-gray-400"},[e("b",null,"Compliance Status")],-1),Se={class:"flex items-center text-center w-full h-36"},ke={class:"mx-3 md:mx-8 mt-5 flex flex-col lg:flex-row mb-5"},Ae={class:"w-full lg:w-2/3 mr-5 border border-gray-400 rounded bg-white"},Ce=e("div",{class:"p-3 border-b border-gray-400"},[e("b",null,"Compliance Progress")],-1),Ie={class:"px-3 max-h-screen overflow-y-auto"},Ne={class:"w-full text-left overflow-x-auto"},De=e("thead",null,[e("tr",{class:"border-b sticky top-0 bg-white z-10"},[e("th",{class:"py-2"},"Program/HEI"),e("th",{class:"py-2"},"Status"),e("th",{class:"py-2"},"Progress"),e("th",{class:"py-2 text-right"},[e("i",{class:"fas fa-ellipsis-v"})])])],-1),Pe={key:0},Ve=e("td",{colspan:"4",class:"py-10 text-center"}," No compliance tool found ",-1),Ye=[Ve],He={class:"flex flex-col"},je={class:"text-sm"},Ee={key:0,class:"bg-gray-600 px-1 text-white w-fit rounded text-xs"},Te={key:1,class:"bg-green-500 px-1 w-fit rounded text-white text-xs"},Ue={class:"text-sm py-2"},Oe={class:"w-16"},$e={class:"text-right"},Be=["href"],Fe=e("button",{class:"hover:bg-gray-200 w-10 h-10 rounded-full text-blue-500"},[e("i",{class:"fas fa-eye"})],-1),Le=[Fe],Re=e("div",{class:"h-fit w-full lg:w-1/3 border border-gray-400 rounded p-3 bg-white lg:mt-0 mt-3"},[e("div",null,"Updates")],-1),qe={components:{Notification:v},layout:T},Ge=Object.assign(qe,{__name:"Dashboard-CHED",props:["complianceTool","filters","academicyear","readyforvisit","inprogress","pending","archived","program_list","program","major","hei_list","hei","heiName","programName"],setup(o){const i=o,s=H({academicyear:h(i.academicyear),filter:h(i.filters.filter)!=null?h(i.filters.filter):null,hei:h(i.hei)!=null?h(i.hei):null,program:h(i.program)!=null?h(i.program):null});function k(){s.get("/ched/dashboard",{preserveState:!1,preserveScroll:!0})}function A(){s.filter==null&&(s.hei=null,s.program=null,s.get("/ched/dashboard",{preserveState:!1,preserveScroll:!0}))}function x(){s.program=null,s.get("/ched/dashboard",{preserveState:!1,preserveScroll:!0})}function C(){s.hei=null,s.get("/ched/dashboard",{preserveState:!1,preserveScroll:!0})}function I(){E.post("/set-academic-year",[i.academicyear])}return(p,d)=>{const N=m("Head"),D=m("page-title"),P=m("dropdown-option"),V=m("compliance-status"),Y=m("compliance-progress");return l(),a(_,null,[c(N,{title:"Dashboard"}),c(D,{title:"Dashboard"}),e("div",U,[e("div",null,[!o.hei&!o.program?(l(),a("div",O," Overall ")):(l(),a("div",$,[y(r(o.heiName)+r(o.programName)+" ",1),o.major!=null?(l(),a("span",B," - "+r(o.major),1)):b("",!0)]))]),e("div",F,[e("div",L,[e("div",R,[u(e("select",{onChange:A,"onUpdate:modelValue":d[0]||(d[0]=t=>n(s).filter=t),id:"filter",class:"w-full lg:w-32 select-none h-8 py-0 rounded text-sm lg:mr-2 lg:mb-0 mb-2"},G,544),[[f,n(s).filter]]),u(e("select",{disabled:"true",id:"selectall",onChange:x,class:"w-full lg:w-40 select-none h-8 py-0 rounded text-sm text-blue-500"},K,544),[[g,n(s).filter==null]]),u(e("select",{"onUpdate:modelValue":d[1]||(d[1]=t=>n(s).hei=t),id:"selectHEI",onChange:x,class:"w-full lg:w-40 select-none h-8 py-0 rounded text-sm text-blue-500"},[Q,(l(!0),a(_,null,w(o.hei_list,t=>(l(),a("option",{key:t.id,value:t.id},r(t.name),9,W))),128))],544),[[g,n(s).filter=="hei"],[f,n(s).hei]]),u(e("select",{"onUpdate:modelValue":d[2]||(d[2]=t=>n(s).program=t),onChange:C,id:"selectProgram",class:"w-full lg:w-40 select-none h-8 py-0 rounded text-sm text-blue-500"},[X,(l(!0),a(_,null,w(o.program_list,t=>(l(),a("option",{key:t.id,value:t.id},[e("span",null,r(t.program),1),y(),t.major!=null?(l(),a("span",ee," - "+r(t.major),1)):b("",!0)],8,Z))),128))],544),[[g,n(s).filter=="program"],[f,n(s).program]])])]),e("div",te,[u(e("select",{onChange:k,id:"acadYearDropDown",class:"select-none w-full lg:w-40 h-8 px-2 py-0 rounded text-sm mr-2","onUpdate:modelValue":d[3]||(d[3]=t=>n(s).academicyear=t)},se,544),[[f,n(s).academicyear]]),u(e("div",null,[c(P,{position:"right"},{button:S(()=>[le]),options:S(()=>[e("div",{class:"w-40 text-center py-5"},[e("button",{onClick:I,class:"whitespace-nowrap text-sm bg-blue-500 text-white hover:bg-blue-600 rounded px-2 h-8"},"Set Default Year")])]),_:1})],512),[[g,p.$page.props.auth.user.role=="Super Admin"]])])])]),e("div",ae,[e("div",re,[e("div",ne,[e("div",ie,[e("div",de,r(o.readyforvisit),1),ce]),e("div",ue,[e("div",he,r(o.inprogress),1),ge])]),e("div",me,[e("div",pe,[e("div",fe,r(o.pending),1),_e]),e("div",ve,[e("div",be,r(o.archived),1),we])])]),e("div",xe,[ye,e("div",Se,[c(V,{dataItem:[o.readyforvisit,o.inprogress,o.pending,o.archived],color:["#04f","#07f","#09f","#0cf"],labels:["Ready for Visit","In progress","Pending","Complied/Archived"]},null,8,["dataItem"])])])]),e("div",ke,[e("div",Ae,[Ce,e("div",Ie,[e("table",Ne,[De,e("tbody",null,[o.complianceTool.length==0?(l(),a("tr",Pe,Ye)):b("",!0),(l(!0),a(_,null,w(o.complianceTool,t=>(l(),a("tr",{key:t.id,class:"border-b"},[e("td",null,[e("div",He,[u(e("div",null,r(t.program),513),[[g,o.hei||i.filters.filter==null]]),u(e("div",null,r(t.institution),513),[[g,o.program||i.filters.filter==null]])])]),e("td",je,[t.status=="Deployed"?(l(),a("div",Ee," Pending ")):(l(),a("div",Te,r(t.status),1))]),e("td",Ue,[e("div",Oe,[c(Y,{percentage:t.progress,dataItem:[t.complied,t.notcomplied,t.notapplicable,t.nostatus]},null,8,["percentage","dataItem"])])]),e("td",$e,[e("a",{href:"/ched/evaluation/"+t.id+"/view",target:"_blank"},Le,8,Be)])]))),128))])])])]),Re]),c(v,{message:p.$page.props.flash.success,type:"success"},null,8,["message"]),c(v,{message:p.$page.props.flash.failed,type:"failed"},null,8,["message"]),c(v,{message:p.$page.props.flash.error,type:"failed"},null,8,["message"])],64)}}});export{Ge as default};
