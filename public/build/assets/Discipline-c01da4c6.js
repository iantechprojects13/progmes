import{m as v,T as E,A as a,o as l,f as r,a as o,w as t,F as y,b as e,i as _,B as L,u as w,z as P,p as x,C as V,n as O,t as k,d as f,O as b}from"./app-f4d80686.js";import j from"./Layout-713aa5ab.js";const z=e("button",{class:"select-none bg-blue-500 hover:bg-blue-600 h-10 px-2 rounded text-white mr-1"},"Add Discipline",-1),H=e("button",{class:"text-gray-500 hover:text-black mr-8"}," Program ",-1),K=e("button",{class:"text-blue-500 h-10 border-b-2 font-bold border-blue-500"}," Discipline ",-1),q={class:"w-full flex justify-end relative"},R=e("i",{class:"fas fa-search"},null,-1),U=[R],G={class:"mr-1"},I=e("button",{class:"px-2 border-2 w-12 whitespace-nowrap rounded h-10 text-gray-700 hover:text-black border-gray-500 tooltipForActions","data-tooltip":"Refresh page"},[e("i",{class:"fas fa-refresh"})],-1),J=e("th",{class:"py-2"},"Discipline",-1),Q={class:"p-2 text-right"},W=e("i",{class:"fas fa-ellipsis-v"},null,-1),X=[W],Y={key:0},Z=e("td",{class:"text-center py-10",colspan:"2"}," No discipline found ",-1),ee=[Z],te={class:"p-3"},se={class:"p-3 text-right"},oe=["onClick"],ne=e("i",{class:"fas fa-trash mr-0.5"},null,-1),ae=[ne],ie=["onClick"],le=e("i",{class:"fas fa-edit mr-0.5"},null,-1),re=[le],ce={key:0,class:"py-5 w-full text-center"},de=e("i",{class:"fas fa-spinner animate-spin ml-2"},null,-1),ue={key:1,class:"py-5"},he=["disabled"],pe={data(){return{deleteModal:!1,message:""}},layout:j},be=Object.assign(pe,{__name:"Discipline",props:["discipline_list","canEdit","filters"],setup(i){const D=i,h=v(null),c=v(!1),d=E({search:D.filters.search});function m(){d.search==""?b.get("/admin/program/discipline"):d.get("/admin/program/discipline",{preserveState:!0,preserveScroll:!0})}function C(n){b.get("/admin/program/discipline/"+n+"/edit")}function M(){b.post("/admin/discipline/delete",{id:h.value.id},{onStart:()=>{c.value=!0},onFinish:()=>{c.value=!1},preserveState:!1})}return(n,u)=>{const A=a("Head"),S=a("AdminPanel"),p=a("Link"),F=a("content-table"),N=a("content-container"),T=a("DeleteModal"),g=a("Notification");return l(),r(y,null,[o(A,{title:"Discipline List"}),o(S),o(N,{pageTitle:"Discipline List",hasTopButton:"true",hasNavigation:"true",hasSearch:"true",hasFilters:"true",data_list:i.discipline_list},{"top-button":t(()=>[o(p,{href:n.route("admin.discipline.create")},{default:t(()=>[z]),_:1},8,["href"])]),navigation:t(()=>[e("div",null,[e("div",null,[o(p,{href:n.route("admin.program.list")},{default:t(()=>[H]),_:1},8,["href"]),K])])]),search:t(()=>[e("div",q,[_(e("input",{onKeydown:P(m,["enter"]),"onUpdate:modelValue":u[0]||(u[0]=s=>w(d).search=s),type:"search",id:"content-search",placeholder:"Search",class:"w-full rounded-full bg-slate-100 h-10 border-none indent-3 text-base placeholder-gray-400 pr-11 mr-2"},null,544),[[L,w(d).search]]),e("button",{onClick:m,class:"hover:bg-gray-300 active:text-blue-500 h-10 w-10 rounded-full absolute right-3"},U)])]),options:t(()=>[e("div",G,[o(p,{href:"/admin/program/discipline"},{default:t(()=>[I]),_:1})])]),"main-content":t(()=>[o(F,null,{"table-head":t(()=>[J,_(e("th",Q,X,512),[[x,i.canEdit]])]),"table-body":t(()=>[i.discipline_list.data.length==0?(l(),r("tr",Y,ee)):(l(!0),r(y,{key:1},V(i.discipline_list.data,(s,$)=>(l(),r("tr",{key:s.id,class:O(["hover:bg-gray-100",{"bg-slate-200":$%2==0}])},[e("td",te,k(s.discipline),1),_(e("td",se,[e("button",{onClick:B=>{n.deleteModal=!0,h.value=s},class:"select-none h-10 w-10 rounded bg-white text-gray-700 hover:text-black active:text-red-500 border-2 border-gray-500 tooltipForActions","data-tooltip":"Delete"},ae,8,oe),e("button",{onClick:B=>C(s.id),class:"ml-1 select-none h-10 w-10 rounded bg-white text-gray-700 hover:text-black active:text-blue-500 border-2 border-gray-500 tooltipForActions","data-tooltip":"Edit"},re,8,ie)],512),[[x,i.canEdit]])],2))),128))]),_:1})]),_:1},8,["data_list"]),o(T,{title:"Delete Discipline",onClose:u[1]||(u[1]=s=>n.deleteModal=!1),showModal:n.deleteModal},{message:t(()=>{var s;return[c.value?(l(),r("div",ce,[f(" Deleting "),de])):(l(),r("div",ue,[f("Are you sure you want to delete "),e("b",null,k((s=h.value)==null?void 0:s.discipline),1),f("? This action can't be undone.")]))]}),buttons:t(()=>[e("button",{onClick:M,disabled:c.value,class:"select-none h-10 w-16 rounded bg-red-500 hover:bg-red-600 text-white"},"Delete",8,he)]),_:1},8,["showModal"]),o(g,{message:n.$page.props.flash.success,type:"success"},null,8,["message"]),o(g,{message:n.$page.props.flash.failed,type:"failed"},null,8,["message"])],64)}}});export{be as default};
