import{m,T as F,A as a,o as i,f as l,a as o,w as s,F as v,b as t,i as y,B as T,u as w,z as $,p as B,C as L,n as V,t as x,d as _,O as p}from"./app-f4d80686.js";import O from"./Layout-713aa5ab.js";const P=t("button",{class:"bg-blue-500 hover:bg-blue-600 h-10 px-2 rounded text-white"},"Add HEI",-1),j={class:"w-full flex justify-end relative"},z=t("i",{class:"fas fa-search"},null,-1),K=[z],q={class:"mr-1"},U=t("button",{class:"px-2 border-2 w-12 whitespace-nowrap rounded h-10 text-gray-600 hover:text-black border-gray-500"},[t("i",{class:"fas fa-refresh"})],-1),G=t("th",{class:"p-3"},"HEI Name",-1),J={class:"p-3 text-right"},Q=t("i",{class:"fas fa-ellipsis-v"},null,-1),R=[Q],W={key:0},X=t("td",{class:"text-center py-10",colspan:"3"}," No HEI found ",-1),Y=[X],Z={class:"p-3"},tt={class:"p-3 text-right"},et=["onClick"],st=t("i",{class:"fas fa-trash"},null,-1),ot=[st],nt=["onClick"],at=t("i",{class:"fas fa-edit"},null,-1),it=[at],lt={key:0,class:"py-5 w-full text-center"},dt=t("i",{class:"fas fa-spinner animate-spin ml-2"},null,-1),rt={key:1,class:"py-5"},ct=["disabled"],ut={data(){return{deleteModal:!1}},layout:O,methods:{}},pt=Object.assign(ut,{__name:"HEI",props:["institution_list","count","canEdit","filters"],setup(d){const k=d,h=m(null),r=m(!1),c=F({search:k.filters.search});function f(){c.search==""?p.get("/admin/higher-education-institutions"):c.get("/admin/higher-education-institutions",{preserveState:!0,preserveScroll:!0})}function E(n){p.get("/admin/higher-education-institutions/"+n+"/edit")}function C(){p.post("/admin/higher-education-institutions/delete",{id:h.value.id},{onStart:()=>{r.value=!0},onFinish:()=>{r.value=!1},preserveState:!1})}return(n,u)=>{const H=a("Head"),M=a("AdminPanel"),g=a("Link"),D=a("content-table"),I=a("content-container"),S=a("DeleteModal"),b=a("Notification");return i(),l(v,null,[o(H,{title:"Higher Education Institution List"}),o(M),o(I,{pageTitle:"Higher Education Institution List",hasTopButton:"true",hasSearch:"true",hasFilters:"true",data_list:d.institution_list},{"top-button":s(()=>[o(g,{href:"/admin/higher-education-institutions/create"},{default:s(()=>[P]),_:1})]),search:s(()=>[t("div",j,[y(t("input",{onKeydown:$(f,["enter"]),"onUpdate:modelValue":u[0]||(u[0]=e=>w(c).search=e),type:"search",id:"content-search",placeholder:"Search",class:"w-full rounded-full bg-slate-100 h-10 border-none indent-3 text-base placeholder-gray-400 pr-11 mr-2"},null,544),[[T,w(c).search]]),t("button",{onClick:f,class:"hover:bg-gray-300 active:text-blue-500 h-10 w-10 rounded-full absolute right-3"},K)])]),options:s(()=>[t("div",q,[o(g,{href:"/admin/higher-education-institutions"},{default:s(()=>[U]),_:1})])]),"main-content":s(()=>[o(D,null,{"table-head":s(()=>[G,y(t("th",J,R,512),[[B,d.canEdit]])]),"table-body":s(()=>[d.institution_list.data.length==0?(i(),l("tr",W,Y)):(i(!0),l(v,{key:1},L(d.institution_list.data,(e,A)=>(i(),l("tr",{key:e.id,class:V(["hover:bg-gray-100",{"bg-slate-200":A%2==0}])},[t("td",Z,x(e.name),1),t("td",tt,[t("button",{onClick:N=>{n.deleteModal=!0,h.value=e},class:"h-10 w-10 rounded border-2 border-gray-500 bg-white text-gray-700 hover:text-black active:text-red-500 tooltipForActions","data-tooltip":"Delete"},ot,8,et),t("button",{onClick:N=>E(e.id),class:"ml-1 h-10 w-10 rounded border-2 border-gray-500 bg-white text-gray-700 hover:text-black active:text-blue-500 tooltipForActions","data-tooltip":"Edit"},it,8,nt)])],2))),128))]),_:1})]),_:1},8,["data_list"]),o(S,{title:"Delete HEI",onClose:u[1]||(u[1]=e=>n.deleteModal=!1),showModal:n.deleteModal},{message:s(()=>{var e;return[r.value?(i(),l("div",lt,[_(" Deleting "),dt])):(i(),l("div",rt,[_("Are you sure you want to delete "),t("b",null,x((e=h.value)==null?void 0:e.name),1),_("? This action can't be undone.")]))]}),buttons:s(()=>[t("button",{onClick:C,disabled:r.value,class:"h-10 w-16 rounded bg-red-500 hover:bg-red-600 text-white"},"Delete",8,ct)]),_:1},8,["showModal"]),o(b,{message:n.$page.props.flash.success,type:"success"},null,8,["message"]),o(b,{message:n.$page.props.flash.failed,type:"failed"},null,8,["message"])],64)}}});export{pt as default};
