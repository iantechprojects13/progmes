import{m as _,E as H,A as d,o as s,f as o,a as n,w as c,F as p,b as e,i as h,B as f,G as g,C as N,d as I,t as x,g as V,O as j}from"./app-ee162bce.js";import B from"./Layout-a469915b.js";const L={class:"p-3 flex flex-row items-center justify-between border-b border-gray-400"},O={class:"flex flex-row"},P=e("button",null,[e("i",{class:"fas fa-arrow-left ml-2 mr-3"})],-1),S=e("div",{class:"font-bold"},"Create HEI",-1),$={class:"px-5 my-7 py-7 mx-auto lg:shadow lg:shadow-gray-500 lg:border lg:border-gray-500 rounded max-w-xl"},A={class:"flex flex-col justify-center"},F=e("div",null,[e("span",{class:"text-red-500"},"*"),e("span",{class:"italic text-sm"}," indicates required field")],-1),D={class:"w-full mt-5"},T=e("label",{for:"code",class:"font-bold text-gray-700"},"Institutional Code",-1),U=e("span",{class:"text-base text-red-500 italic"},"*",-1),q={class:"w-full mt-3"},G=e("label",{for:"name",class:"font-bold text-gray-700"},"HEI Name",-1),M=e("span",{class:"text-base text-red-500 italic"},"*",-1),R=e("div",{class:"font-bold mt-5 text-gray-700 text-base"},"Programs",-1),z={key:0,class:"italic text-sm"},J={key:1,class:"h-auto max-h-96 overflow-y-auto border border-gray-500 rounded lg:max-w-xl w-full mx-auto p-3"},K={class:"mr-2 flex flex-row items-center"},Q=["id","onChange"],W=["for"],X={key:0},Y={class:"mt-5 w-full text-center"},Z=["disabled"],ee={key:0},te={key:1},se=e("i",{class:"fas fa-spinner animate-spin"},null,-1),oe=[se],ae={layout:B},ie=Object.assign(ae,{__name:"HEI-Create",props:["program_list"],setup(m){const b=[],i=_(!1),l=H({code:null,name:null,programs:_(b)});function y(){j.post("/admin/higher-education-institutions/register",l,{onStart:()=>{i.value=!0},onFinish:()=>{i.value=!1},preserveScroll:!0,preserveState:!0})}function v(r){let a=this.programChecked.indexOf(r);a===-1?this.programChecked.push(r):this.programChecked.splice(a,1)}return(r,a)=>{const w=d("Head"),k=d("AdminPanel"),C=d("Link"),E=d("content-container");return s(),o(p,null,[n(w,{title:"New HEI"}),n(k),n(E,null,{"content-title":c(()=>[e("div",L,[e("div",O,[n(C,{href:"/admin/higher-education-institutions"},{default:c(()=>[P]),_:1}),S])])]),"main-content":c(()=>[e("div",$,[e("div",A,[F,e("div",D,[T,U,h(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>l.code=t),id:"code",placeholder:"HEI Code",class:"w-full rounded placeholder-gray-400 py-2 text-base border-gray-500"},null,512),[[f,l.code]]),n(g,{message:r.$page.props.errors.code,theme:"dark"},null,8,["message"])]),e("div",q,[G,M,h(e("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=t=>l.name=t),id:"name",placeholder:"HEI Name",class:"w-full rounded placeholder-gray-400 py-2 px-4 text-base border-gray-500"},null,512),[[f,l.name]]),n(g,{message:r.$page.props.errors.name,theme:"dark"},null,8,["message"])]),R,m.program_list.length==0?(s(),o("div",z," No programs found ")):(s(),o("div",J,[(s(!0),o(p,null,N(m.program_list,(t,u)=>(s(),o("div",{key:t.id,class:"p-2"},[e("div",K,[e("input",{type:"checkbox",id:"programCheck"+u,class:"mr-2 text-blue-500",onChange:ne=>v(t.id)},null,40,Q),e("label",{class:"cursor-pointer text-sm",for:"programCheck"+u},[I(x(t.program)+" ",1),t.major?(s(),o("span",X," - "+x(t.major),1)):V("",!0)],8,W)])]))),128))]))]),e("div",Y,[e("button",{onClick:y,disabled:i.value,class:"mx-auto w-full bg-blue-500 rounded hover:bg-blue-600 text-white py-2 px-4"},[i.value?(s(),o("span",te,oe)):(s(),o("span",ee,"Register"))],8,Z)])])]),_:1})],64)}}});export{ie as default};
