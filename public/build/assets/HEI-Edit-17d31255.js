import{m as n,E as B,A as c,o,f as a,a as r,w as f,F as g,b as e,i as x,B as b,C as H,d as N,t as y,g as A,O as F}from"./app-612f8f79.js";import I from"./Layout-688c6e41.js";const V=e("button",{class:"w-10 h-10 mr-2 rounded-full hover:bg-gray-300 tooltipForActions","data-tooltip":"Back"},[e("i",{class:"fas fa-arrow-left"})],-1),j={class:"px-5 py-7 mx-auto lg:shadow lg:shadow-gray-500 lg:border lg:border-gray-500 rounded max-w-xl"},P={class:"flex flex-col justify-center"},U=e("div",null,[e("span",{class:"text-red-500"},"*"),e("span",{class:"italic text-sm"}," indicates required field")],-1),$={class:"w-full mt-5"},L=e("label",{for:"code",class:"font-bold text-gray-700"},"Institutional Code",-1),M=e("span",{class:"text-base text-red-500 italic"},"*",-1),S={class:"w-full mt-3"},T=e("label",{for:"name",class:"font-bold text-gray-700"},"HEI Name",-1),D=e("span",{class:"text-base text-red-500 italic"},"*",-1),q=e("div",{class:"font-bold mt-5 text-gray-700 text-base"},"Programs",-1),z={key:0,class:"italic text-sm"},G={key:1,class:"h-auto max-h-96 overflow-y-auto border border-gray-500 rounded lg:max-w-xl w-full mx-auto p-3"},J={class:"mr-2 flex flex-row items-center"},K=["id","checked","onChange"],Q=["for"],R={key:0},W={class:"mt-5 w-full text-center"},X=["disabled"],Y={key:0},Z={key:1},ee=e("i",{class:"fas fa-spinner animate-spin"},null,-1),te=[ee],se={layout:I},re=Object.assign(se,{__name:"HEI-Edit",props:{institution:Object,program_list:Array,programsOffered:Array},setup(u){const s=u,m=n(!1),k=n([]),i=B({id:n(s.institution.id),code:n(s.institution.code),name:n(s.institution.name),programs:n(s.programsOffered)});function v(){F.post("/admin/higher-education-institutions/update",i,{onStart:()=>{m.value=!0},onFinish:()=>{m.value=!1},replace:!0,preserveState:!0})}function w(l,d){let p=s.programsOffered.indexOf(l);p===-1?s.programsOffered.push(l):s.programsOffered.splice(p,1)}return(l,d)=>{const p=c("Head"),C=c("AdminPanel"),O=c("Link"),h=c("FormErrorMessage"),E=c("content-container");return o(),a(g,null,[r(p,{title:u.institution.name},null,8,["title"]),r(C),r(E,{pageTitle:"Update HEI",hasBackButton:"true"},{"back-button":f(()=>[r(O,{href:"/admin/higher-education-institutions"},{default:f(()=>[V]),_:1})]),"main-content":f(()=>[e("div",j,[e("div",P,[U,e("div",$,[L,M,x(e("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=t=>i.code=t),id:"code",placeholder:"HEI Code",class:"w-full rounded placeholder-gray-400 py-2 text-base border-gray-500"},null,512),[[b,i.code]]),r(h,{message:l.$page.props.errors.code,theme:"dark"},null,8,["message"])]),e("div",S,[T,D,x(e("input",{type:"text","onUpdate:modelValue":d[1]||(d[1]=t=>i.name=t),id:"name",placeholder:"HEI Name",class:"w-full rounded placeholder-gray-400 py-2 px-4 text-base border-gray-500"},null,512),[[b,i.name]]),r(h,{message:l.$page.props.errors.name,theme:"dark"},null,8,["message"])]),q,u.program_list.length==0?(o(),a("div",z," No programs found ")):(o(),a("div",G,[(o(!0),a(g,null,H(u.program_list,(t,_)=>(o(),a("div",{key:t.id,class:"p-2"},[e("div",J,[e("input",{type:"checkbox",id:"programCheck"+_,class:"mr-2 text-blue-500",checked:s.programsOffered.includes(t.id),onChange:oe=>w(t.id,_),ref_for:!0,ref_key:"programCheckbox",ref:k},null,40,K),e("label",{class:"cursor-pointer text-sm",for:"programCheck"+_},[N(y(t.program)+" ",1),t.major?(o(),a("span",R," - "+y(t.major),1)):A("",!0)],8,Q)])]))),128))]))]),e("div",W,[e("button",{onClick:v,disabled:m.value,class:"mx-auto w-full bg-blue-500 rounded hover:bg-blue-600 text-white py-2 px-4"},[m.value?(o(),a("span",Z,te)):(o(),a("span",Y,"Update"))],8,X)])])]),_:1})],64)}}});export{re as default};
