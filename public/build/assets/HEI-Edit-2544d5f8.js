import{m as n,E as H,A as c,o,f as a,a as r,w as f,F as g,b as e,i as x,B as b,C as N,d as j,t as y,g as I,O as V}from"./app-251762d9.js";import A from"./Layout-a6df9f1a.js";const F={class:"p-3 flex flex-row items-center justify-between border-b border-gray-400"},B={class:"flex flex-row"},P=e("button",null,[e("i",{class:"fas fa-arrow-left ml-2 mr-3"})],-1),$=e("div",{class:"font-bold"},"Edit HEI",-1),L={class:"px-5 py-7 mx-auto lg:shadow lg:shadow-gray-500 lg:border lg:border-gray-500 rounded max-w-xl my-8"},M={class:"flex flex-col justify-center"},S=e("div",null,[e("span",{class:"text-red-500"},"*"),e("span",{class:"italic text-sm"}," indicates required field")],-1),U={class:"w-full mt-5"},D=e("label",{for:"code",class:"font-bold text-gray-700"},"Institutional Code",-1),T=e("span",{class:"text-base text-red-500 italic"},"*",-1),q={class:"w-full mt-3"},z=e("label",{for:"name",class:"font-bold text-gray-700"},"HEI Name",-1),G=e("span",{class:"text-base text-red-500 italic"},"*",-1),J=e("div",{class:"font-bold mt-5 text-gray-700 text-base"},"Programs",-1),K={key:0,class:"italic text-sm"},Q={key:1,class:"h-auto max-h-96 overflow-y-auto border border-gray-500 rounded lg:max-w-xl w-full mx-auto p-3"},R={class:"mr-2 flex flex-row items-center"},W=["id","checked","onChange"],X=["for"],Y={key:0},Z={class:"mt-5 w-full text-center"},ee=["disabled"],te={key:0},se={key:1},oe=e("i",{class:"fas fa-spinner animate-spin"},null,-1),ae=[oe],ne={layout:A},de=Object.assign(ne,{__name:"HEI-Edit",props:{institution:Object,program_list:Array,programsOffered:Array},setup(m){const s=m,u=n(!1),v=n([]),l=H({id:n(s.institution.id),code:n(s.institution.code),name:n(s.institution.name),programs:n(s.programsOffered)});function k(){V.post("/admin/higher-education-institutions/update",l,{onStart:()=>{u.value=!0},onFinish:()=>{u.value=!1},replace:!0,preserveState:!0})}function w(i,d){let _=s.programsOffered.indexOf(i);_===-1?s.programsOffered.push(i):s.programsOffered.splice(_,1)}return(i,d)=>{const _=c("Head"),C=c("AdminPanel"),E=c("Link"),h=c("FormErrorMessage"),O=c("content-container");return o(),a(g,null,[r(_,{title:m.institution.name},null,8,["title"]),r(C),r(O,null,{"content-title":f(()=>[e("div",F,[e("div",B,[r(E,{href:"/admin/higher-education-institutions/"},{default:f(()=>[P]),_:1}),$])])]),"main-content":f(()=>[e("div",L,[e("div",M,[S,e("div",U,[D,T,x(e("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=t=>l.code=t),id:"code",placeholder:"HEI Code",class:"w-full rounded placeholder-gray-400 py-2 text-base border-gray-500"},null,512),[[b,l.code]]),r(h,{message:i.$page.props.errors.code,theme:"dark"},null,8,["message"])]),e("div",q,[z,G,x(e("input",{type:"text","onUpdate:modelValue":d[1]||(d[1]=t=>l.name=t),id:"name",placeholder:"HEI Name",class:"w-full rounded placeholder-gray-400 py-2 px-4 text-base border-gray-500"},null,512),[[b,l.name]]),r(h,{message:i.$page.props.errors.name,theme:"dark"},null,8,["message"])]),J,m.program_list.length==0?(o(),a("div",K," No programs found ")):(o(),a("div",Q,[(o(!0),a(g,null,N(m.program_list,(t,p)=>(o(),a("div",{key:t.id,class:"p-2"},[e("div",R,[e("input",{type:"checkbox",id:"programCheck"+p,class:"mr-2 text-blue-500",checked:s.programsOffered.includes(t.id),onChange:re=>w(t.id,p),ref_for:!0,ref_key:"programCheckbox",ref:v},null,40,W),e("label",{class:"cursor-pointer text-sm",for:"programCheck"+p},[j(y(t.program)+" ",1),t.major?(o(),a("span",Y," - "+y(t.major),1)):I("",!0)],8,X)])]))),128))]))]),e("div",Z,[e("button",{onClick:k,disabled:u.value,class:"mx-auto w-full bg-blue-500 rounded hover:bg-blue-600 text-white py-2 px-4"},[u.value?(o(),a("span",se,ae)):(o(),a("span",te,"Update"))],8,ee)])])]),_:1})],64)}}});export{de as default};
