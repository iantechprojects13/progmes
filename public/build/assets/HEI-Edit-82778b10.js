import{m as n,E as O,A as f,o,f as a,a as d,w as _,F as g,b as e,i as x,B as b,C as H,d as N,t as y,g as j,O as F}from"./app-a1d3aa91.js";import I from"./Layout-8eb335a9.js";const V={class:"w-full flex flex-row items-center justify-between"},A={class:"w-full flex flex-row items-center"},B=e("button",{class:"w-8 h-8 rounded-full hover:bg-gray-200 tooltipForActions","data-tooltip":"Back"},[e("i",{class:"fas fa-arrow-left"})],-1),$=e("div",{class:"ml-3 font-bold"},"Edit HEI",-1),L={class:"px-5 py-7 mx-auto lg:shadow lg:shadow-gray-500 lg:border lg:border-gray-500 rounded max-w-xl my-8"},M={class:"flex flex-col justify-center"},P=e("div",null,[e("span",{class:"text-red-500"},"*"),e("span",{class:"italic text-sm"}," indicates required field")],-1),S={class:"w-full mt-5"},U=e("label",{for:"code",class:"font-bold text-gray-700"},"Institutional Code",-1),D=e("span",{class:"text-base text-red-500 italic"},"*",-1),T={class:"w-full mt-3"},q=e("label",{for:"name",class:"font-bold text-gray-700"},"HEI Name",-1),z=e("span",{class:"text-base text-red-500 italic"},"*",-1),G=e("div",{class:"font-bold mt-5 text-gray-700 text-base"},"Programs",-1),J={key:0,class:"italic text-sm"},K={key:1,class:"h-auto max-h-96 overflow-y-auto border border-gray-500 rounded lg:max-w-xl w-full mx-auto p-3"},Q={class:"mr-2 flex flex-row items-center py-1 border-b border-gray-300"},R=["id","checked","onChange"],W=["for"],X={key:0},Y={class:"mt-5 w-full text-center"},Z=["disabled"],ee={key:0},te={key:1},se=e("i",{class:"fas fa-spinner animate-spin"},null,-1),oe=[se],ae={layout:I},ie=Object.assign(ae,{__name:"HEI-Edit",props:{institution:Object,program_list:Array,programsOffered:Array},setup(c){const s=c,u=n(!1),v=n([]),r=O({id:n(s.institution.id),code:n(s.institution.code),name:n(s.institution.name),programs:n(s.programsOffered)});function w(){F.post("/admin/higher-education-institutions/update",r,{onStart:()=>{u.value=!0},onFinish:()=>{u.value=!1},replace:!0,preserveState:!0})}function k(l,i){let m=s.programsOffered.indexOf(l);m===-1?s.programsOffered.push(l):s.programsOffered.splice(m,1)}return(l,i)=>{const m=f("Head"),C=f("Link"),h=f("FormErrorMessage"),E=f("content-container");return o(),a(g,null,[d(m,{title:c.institution.name},null,8,["title"]),d(E,{hasAdminPanel:!0},{"content-title":_(()=>[e("div",V,[e("div",A,[d(C,{href:"/admin/higher-education-institutions/"},{default:_(()=>[B]),_:1}),$])])]),"main-content":_(()=>[e("div",L,[e("div",M,[P,e("div",S,[U,D,x(e("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=t=>r.code=t),id:"code",placeholder:"HEI Code",class:"w-full rounded placeholder-gray-400 py-2 text-base border-gray-500"},null,512),[[b,r.code]]),d(h,{message:l.$page.props.errors.code,theme:"dark"},null,8,["message"])]),e("div",T,[q,z,x(e("input",{type:"text","onUpdate:modelValue":i[1]||(i[1]=t=>r.name=t),id:"name",placeholder:"HEI Name",class:"w-full rounded placeholder-gray-400 py-2 px-4 text-base border-gray-500"},null,512),[[b,r.name]]),d(h,{message:l.$page.props.errors.name,theme:"dark"},null,8,["message"])]),G,c.program_list.length==0?(o(),a("div",J," No programs found ")):(o(),a("div",K,[(o(!0),a(g,null,H(c.program_list,(t,p)=>(o(),a("div",{key:t.id,class:"p-2"},[e("div",Q,[e("input",{type:"checkbox",id:"programCheck"+p,class:"mr-2 text-blue-500",checked:s.programsOffered.includes(t.id),onChange:ne=>k(t.id,p),ref_for:!0,ref_key:"programCheckbox",ref:v},null,40,R),e("label",{class:"cursor-pointer",for:"programCheck"+p},[N(y(t.program)+" ",1),t.major?(o(),a("span",X," - "+y(t.major),1)):j("",!0)],8,W)])]))),128))]))]),e("div",Y,[e("button",{onClick:w,disabled:u.value,class:"mx-auto w-full bg-blue-500 rounded hover:bg-blue-600 text-white py-2 px-4"},[u.value?(o(),a("span",te,oe)):(o(),a("span",ee,"Update"))],8,Z)])])]),_:1})],64)}}});export{ie as default};
