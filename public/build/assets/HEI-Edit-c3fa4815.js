import{m as n,E as B,A as c,o as s,f as a,a as r,w as f,F as g,b as e,i as x,B as y,C as D,d as H,t as b,g as I,O as N}from"./app-f4d80686.js";import A from"./Layout-713aa5ab.js";const F=e("button",{class:"w-10 h-10 mr-2 rounded-full hover:bg-gray-300 tooltipForActions","data-tooltip":"Back"},[e("i",{class:"fas fa-arrow-left"})],-1),V={class:"px-5 py-7 mx-auto lg:shadow lg:shadow-gray-500 lg:border lg:border-gray-500 rounded max-w-xl"},j={class:"flex flex-col justify-center"},P=e("div",null,[e("span",{class:"text-red-500"},"*"),e("span",{class:"italic text-sm"}," indicates required field")],-1),M={class:"w-full mt-5"},S=e("label",{for:"code",class:"font-bold text-gray-700"},"Institutional Code",-1),T=e("span",{class:"text-base text-red-500 italic"},"*",-1),U={class:"w-full mt-3"},$=e("label",{for:"name",class:"font-bold text-gray-700"},"HEI Name",-1),L=e("span",{class:"text-base text-red-500 italic"},"*",-1),q=e("div",{class:"font-bold mt-5 text-gray-700 text-base"},"Programs",-1),G={key:0,class:"italic text-sm"},z={key:1,class:"h-auto max-h-96 overflow-y-auto border border-gray-500 rounded lg:max-w-xl w-full mx-auto p-3"},J={class:"mr-2 flex flex-row items-center"},K=["id","checked","onChange"],Q=["for"],R={key:0},W={class:"mt-5 w-full text-center"},X=["disabled"],Y={key:0},Z={key:1},ee=e("i",{class:"fas fa-spinner animate-spin"},null,-1),te=[ee],oe={layout:A,data(){return{city_municipality:["Davao City","Digos City","Panabo City","Tagum City","Mati City","Island Garden City of Samal"],province:["Davao City","Davao del Sur","Davao Oriental"]}}},re=Object.assign(oe,{__name:"HEI-Edit",props:{institution:Object,program_list:Array,programsOffered:Array},setup(u){const o=u,m=n(!1),v=n([]),i=B({id:n(o.institution.id),code:n(o.institution.code),name:n(o.institution.name),programs:n(o.programsOffered)});function k(){N.post("/admin/higher-education-institutions/update",i,{onStart:()=>{m.value=!0},onFinish:()=>{m.value=!1}})}function C(l,d){let p=o.programsOffered.indexOf(l);p===-1?o.programsOffered.push(l):o.programsOffered.splice(p,1)}return(l,d)=>{const p=c("Head"),w=c("AdminPanel"),O=c("Link"),h=c("FormErrorMessage"),E=c("content-container");return s(),a(g,null,[r(p,{title:u.institution.name},null,8,["title"]),r(w),r(E,{pageTitle:"Update HEI",hasBackButton:"true"},{"back-button":f(()=>[r(O,{href:"/admin/higher-education-institutions"},{default:f(()=>[F]),_:1})]),"main-content":f(()=>[e("div",V,[e("div",j,[P,e("div",M,[S,T,x(e("input",{type:"text","onUpdate:modelValue":d[0]||(d[0]=t=>i.code=t),id:"code",placeholder:"HEI Code",class:"w-full rounded placeholder-gray-400 py-2 text-base border-gray-500"},null,512),[[y,i.code]]),r(h,{message:l.$page.props.errors.code,theme:"dark"},null,8,["message"])]),e("div",U,[$,L,x(e("input",{type:"text","onUpdate:modelValue":d[1]||(d[1]=t=>i.name=t),id:"name",placeholder:"HEI Name",class:"w-full rounded placeholder-gray-400 py-2 px-4 text-base border-gray-500"},null,512),[[y,i.name]]),r(h,{message:l.$page.props.errors.name,theme:"dark"},null,8,["message"])]),q,u.program_list.length==0?(s(),a("div",G," No programs found ")):(s(),a("div",z,[(s(!0),a(g,null,D(u.program_list,(t,_)=>(s(),a("div",{key:t.id,class:"p-2"},[e("div",J,[e("input",{type:"checkbox",id:"programCheck"+_,class:"mr-2 text-blue-500",checked:o.programsOffered.includes(t.id),onChange:se=>C(t.id,_),ref_for:!0,ref_key:"programCheckbox",ref:v},null,40,K),e("label",{class:"cursor-pointer text-sm",for:"programCheck"+_},[H(b(t.program)+" ",1),t.major?(s(),a("span",R," - "+b(t.major),1)):I("",!0)],8,Q)])]))),128))]))]),e("div",W,[e("button",{onClick:k,disabled:m.value,class:"mx-auto w-full bg-blue-500 rounded hover:bg-blue-600 text-white py-2 px-4"},[m.value?(s(),a("span",Z,te)):(s(),a("span",Y,"Update"))],8,X)])])]),_:1})],64)}}});export{re as default};
