import{h as b,m as I,A as n,o as i,f as a,a as l,w as c,F as _,b as o,i as p,p as h,t as d,C as H,O as E}from"./app-fe511cab.js";import M from"./Layout-4e2e1be8.js";const N={class:"p-3 flex flex-row items-center justify-between border-b border-gray-400"},R={class:"flex flex-row"},V=o("button",null,[o("i",{class:"fas fa-arrow-left ml-2 mr-3"})],-1),B=o("div",{class:"font-bold"},"Profile Details",-1),L={class:"m-10"},O={class:"border border-gray-400"},S=o("th",{scope:"row",class:"px-3 py-1 align-top border-b border-gray-400 border-r font-bold text-right whitespace-nowrap"}," Name",-1),j={class:"px-3 py-1 align-top border-b border-gray-400 w-full"},F=o("th",{scope:"row",class:"px-3 py-1 align-top border-b border-gray-400 border-r font-bold text-right whitespace-nowrap"}," Account Type",-1),T={class:"px-3 py-1 align-top border-b border-gray-400 w-full"},$={key:0},U={key:1},q=o("th",{scope:"row",class:"px-3 py-1 align-top border-b border-gray-400 border-r font-bold text-right whitespace-nowrap"}," Role",-1),z={class:"px-3 py-1 align-top border-b border-gray-400 w-full"},G=o("th",{scope:"row",class:"px-3 py-1 align-top border-b border-gray-400 border-r font-bold text-right whitespace-nowrap"}," HEI Name",-1),J={class:"px-3 py-1 align-top border-b border-gray-400 w-full"},K=o("th",{scope:"row",class:"px-3 py-1 align-top border-b border-gray-400 border-r font-bold text-right whitespace-nowrap"}," Discipline",-1),Q={class:"px-3 py-1 align-top border-b border-gray-400 w-full"},W=o("th",{scope:"row",class:"px-3 py-1 align-top border-b border-gray-400 border-r font-bold text-right whitespace-nowrap"}," Program",-1),X={class:"px-3 py-1 align-top border-b border-gray-400 w-full"},Y=o("div",null,"Are you sure you want to change the role for this user? This action will deactivate their current role.",-1),Z={layout:M},to=Object.assign(Z,{__name:"Profile-View",props:["profile","roles","isAdmin","hasDiscipline","hasInstitution","hasProgram"],setup(s){const r=s,f=b(()=>{let e=[];if(r.hasDiscipline)for(var t=0;t<r.roles.length;t++)e.push(r.roles[t].discipline.discipline);return e}),m=b(()=>{var t;let e="";return r.hasProgram&&(e=(t=r.roles[0])==null?void 0:t.program.program),e}),w=b(()=>{var t;let e="";return r.hasInstitution&&(e=(t=r.roles[0])==null?void 0:t.institution.name),e}),u=I(!1);function g(){u.value=!u.value}function y(){E.post("/register/change-role",{userId:r.profile.id})}return(e,t)=>{const x=n("Head"),v=n("AdminPanel"),C=n("Link"),P=n("content-container"),k=n("modal");return i(),a(_,null,[l(x,{title:"View Profile"}),l(v),l(P,null,{"content-title":c(()=>[o("div",N,[o("div",R,[l(C,{href:"/admin/users/list/"},{default:c(()=>[V]),_:1}),B]),p(o("div",null,[o("button",{onClick:g,class:"h-10 px-2 bg-gray-700 text-white hover:bg-gray-800 rounded"},"Change role")],512),[[h,e.$page.props.auth.user.role=="Super Admin"]])])]),"main-content":c(()=>[o("div",L,[o("table",O,[o("tr",null,[S,o("td",j,d(s.profile.name),1)]),o("tr",null,[F,o("td",T,[s.profile.type=="CHED"?(i(),a("div",$," Commission on Higher Education ")):(i(),a("div",U," Higher Education Institution "))])]),o("tr",null,[q,o("td",z,d(s.profile.role),1)]),p(o("tr",null,[G,o("td",J,d(w.value),1)],512),[[h,s.hasInstitution]]),p(o("tr",null,[K,o("td",Q,[(i(!0),a(_,null,H(f.value,(A,D)=>(i(),a("div",{key:D},d(A),1))),128))])],512),[[h,s.hasDiscipline]]),p(o("tr",null,[W,o("td",X,d(m.value),1)],512),[[h,s.hasProgram]])])])]),_:1}),l(k,{showModal:u.value,onClose:g,title:"Change User Role"},{"custom-button":c(()=>[o("button",{onClick:y,class:"h-10 w-20 rounded bg-blue-500 text-white"}," Confirm ")]),default:c(()=>[Y]),_:1},8,["showModal"])],64)}}});export{to as default};
