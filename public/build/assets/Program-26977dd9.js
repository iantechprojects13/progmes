import{m as y,T as L,A as n,o as r,f as c,a,w as e,F as x,b as t,i as _,B as V,u as f,z as $,C as E,n as j,t as b,p as M,D as O,d as z,O as H}from"./app-eaf9df37.js";import K from"./Layout-8d14705d.js";const U=t("button",{class:"select-none bg-blue-500 hover:bg-blue-600 h-10 px-3 whitespace-nowrap rounded text-white"},[t("i",{class:"fas fa-plus mr-2"}),z("Add program")],-1),q=t("button",{class:"select-none h-12 w-28 hover:bg-gray-100 text-blue-500 border-b-4 relative font-bold border-blue-500"}," Program ",-1),I=t("button",{class:"select-none h-12 w-28 hover:bg-gray-100 text-gray-700 hover:text-black"}," Discipline ",-1),R={class:"w-full flex flex-row relative items-center"},G=t("i",{class:"fa fa-search text-gray-400 absolute left-5"},null,-1),J={class:"mr-1"},Q=t("i",{class:"fas fa-filter"},null,-1),W=[Q],X=t("button",{class:"w-10 h-10 whitespace-nowrap hover:bg-gray-200 rounded-full text-gray-700 hover:text-blue-500 active:text-white active:bg-blue-600 tooltipForActions","data-tooltip":"Refresh page"},[t("i",{class:"fas fa-refresh"})],-1),Y=t("th",{class:"p-2 pl-5"},"Program",-1),Z=t("th",{class:"p-2"},"Major",-1),tt=t("th",{class:"p-2"},"Discipline",-1),et=t("th",{class:"p-2 pr-5 text-right"},[t("i",{class:"fas fa-ellipsis-v"})],-1),ot={key:0},st=t("td",{class:"text-center py-10",colspan:"4"}," No program found ",-1),at=[st],lt={class:"p-2 pl-5"},nt={class:"p-2"},it={class:"p-2"},rt={class:"p-2 pr-5 text-right whitespace-nowrap"},ct=["onClick"],dt=t("i",{class:"fas fa-edit"},null,-1),ht=[dt],ut=["onClick"],pt=t("i",{class:"fas fa-trash"},null,-1),_t=[pt],ft={class:"flex flex-col"},gt=t("label",{for:"show"},"Items per page",-1),mt=t("option",{value:"25"},"25",-1),bt=t("option",{value:"50"},"50",-1),vt=t("option",{value:"100"},"100",-1),wt=t("option",{value:"200"},"200",-1),yt=[mt,bt,vt,wt],xt={key:0},Mt=t("i",{class:"fas fa-spinner animate-spin"},null,-1),Ct=[Mt],kt={key:1},Ft={layout:K,data(){return{confirmationModal:!1,selectedProgram:"",modaltype:"",title:""}},methods:{toggleConfirmationModal(l,d,h){this.confirmationModal=!this.confirmationModal,this.selectedProgram=l,this.modaltype=d,this.title=h},closeModal(){this.confirmationModal=!1,this.uploadModal=!1}}},Dt=Object.assign(Ft,{__name:"Program",props:["program_list","canEdit","canAdd","canDelete","filters"],setup(l){const d=l,h=y(!1),u=y(!1),i=L({show:d.filters.show!=null?d.filters.show:null,search:d.filters.search});function g(){h.value=!h.value}function C(){i.get("/admin/program",{onStart:()=>{u.value=!0},onFinish:()=>{u.value=!1},preserveState:!1})}function k(){i.get("/admin/program",{onStart:()=>{u.value=!0},onFinish:()=>{u.value=!1,g()},preserveState:!0})}function F(o){H.get("/admin/program/"+o+"/edit")}return(o,p)=>{const P=n("Head"),m=n("Link"),A=n("content-table"),D=n("content-container"),S=n("modal"),N=n("Confirmation"),v=n("Notification");return r(),c(x,null,[a(P,{title:"Program List"}),a(D,{hasAdminPanel:!0,pageTitle:"Program List",page:"program",hasTopButton:l.canAdd,hasNavigation:!0,hasSearch:!0,hasFilters:!0,data_list:l.program_list},{"top-button":e(()=>[a(m,{href:"/admin/program/create"},{default:e(()=>[U]),_:1})]),navigation:e(()=>[q,a(m,{href:o.route("admin.discipline.list")},{default:e(()=>[I]),_:1},8,["href"])]),search:e(()=>[t("div",R,[G,_(t("input",{onKeydown:$(C,["enter"]),"onUpdate:modelValue":p[0]||(p[0]=s=>f(i).search=s),type:"search",id:"content-search",placeholder:"Search",class:"w-full rounded-lg border border-gray-300 indent-10 h-10 text-base placeholder-gray-400"},null,544),[[V,f(i).search]])])]),options:e(()=>[t("div",J,[t("button",{onClick:g,class:"w-10 h-10 whitespace-nowrap hover:bg-gray-200 rounded-full text-gray-700 hover:text-blue-500 active:text-white active:bg-blue-600 tooltipForActions","data-tooltip":"Filters"},W),a(m,{href:"/admin/program"},{default:e(()=>[X]),_:1})])]),"main-content":e(()=>[a(A,null,{"table-head":e(()=>[Y,Z,tt,et]),"table-body":e(()=>[l.program_list.data.length==0?(r(),c("tr",ot,at)):(r(!0),c(x,{key:1},E(l.program_list.data,(s,B)=>{var w;return r(),c("tr",{key:s.id,class:j(["hover:bg-gray-200 border-b",{"bg-gray-100":B%2==1}])},[t("td",lt,b(s.program),1),t("td",nt,b(s.major),1),t("td",it,b((w=s.discipline)==null?void 0:w.discipline),1),t("td",rt,[_(t("button",{onClick:T=>F(s.id),class:"select-none h-8 w-8 text-center text-xl hover:bg-gray-300 rounded-full text-blue-500 hover:text-blue-600 tooltipForActions","data-tooltip":"Edit"},ht,8,ct),[[M,l.canEdit]]),_(t("button",{onClick:T=>o.toggleConfirmationModal(s,"deleteProgram","Delete Program"),class:"select-none h-8 w-8 text-center text-xl hover:bg-gray-300 rounded-full text-red-500 hover:text-red-600 tooltipForActions","data-tooltip":"Delete"},_t,8,ut),[[M,l.canDelete]])])],2)}),128))]),_:1})]),_:1},8,["hasTopButton","data_list"]),a(S,{showModal:h.value,onClose:g,width:"sm",height:"long",title:"Filters"},{"custom-button":e(()=>[t("button",{onClick:k,class:"text-white bg-green-600 hover:bg-green-700 w-20 rounded h-10"},[u.value?(r(),c("span",xt,Ct)):(r(),c("span",kt,"Apply"))])]),default:e(()=>[t("div",null,[t("div",ft,[gt,_(t("select",{"onUpdate:modelValue":p[1]||(p[1]=s=>f(i).show=s),id:"show",class:"rounded border-gray-400"},yt,512),[[O,f(i).show]])])])]),_:1},8,["showModal"]),a(N,{showModal:o.confirmationModal,onClose:o.closeModal,title:o.title,modaltype:o.modaltype,selected:o.selectedProgram,width:"md",height:"short"},null,8,["showModal","onClose","title","modaltype","selected"]),a(v,{message:o.$page.props.flash.success,type:"success"},null,8,["message"]),a(v,{message:o.$page.props.flash.failed,type:"failed"},null,8,["message"])],64)}}});export{Dt as default};
