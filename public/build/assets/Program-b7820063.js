import{m,T as B,A as n,o as l,f as r,a as o,w as s,F as x,b as e,i as w,B as L,u as k,z as j,p as E,C as V,n as O,t as u,d as g,O as f}from"./app-f4d80686.js";import z from"./Layout-713aa5ab.js";const H=e("button",{class:"bg-blue-500 hover:bg-blue-600 h-10 px-2 rounded text-white"},"Add program",-1),K=e("button",{class:"text-blue-500 h-10 mr-8 border-b-2 font-bold border-blue-500"}," Program ",-1),q=e("button",{class:"text-gray-500 hover:text-black"}," Discipline ",-1),R={class:"w-full flex justify-end relative"},U=e("i",{class:"fas fa-search"},null,-1),G=[U],I={class:"mr-1"},J=e("button",{class:"px-2 border-2 w-12 whitespace-nowrap rounded h-10 text-gray-600 hover:text-black border-gray-500 tooltipForActions","data-tooltip":"Refresh page"},[e("i",{class:"fas fa-refresh"})],-1),Q=e("th",{class:"py-2 px-3"},"Program",-1),W=e("th",{class:"py-2 px-3"},"Major",-1),X=e("th",{class:"py-2 px-3"},"Discipline",-1),Y={class:"py-2 px-3 text-right"},Z=e("i",{class:"fas fa-ellipsis-v"},null,-1),ee=[Z],te={key:0},se=e("td",{class:"text-center py-10",colspan:"4"}," No program found ",-1),oe=[se],ae={class:"p-2 px-3"},ne={class:"p-2 px-3"},le={class:"p-2 px-3"},re={class:"p-2 px-3 text-right"},ie=["onClick"],de=e("i",{class:"fas fa-trash mr-0.5"},null,-1),ce=[de],he=["onClick"],ue=e("i",{class:"fas fa-edit mr-0.5"},null,-1),_e=[ue],pe={key:0,class:"py-5 w-full text-center"},me=e("i",{class:"fas fa-spinner animate-spin ml-2"},null,-1),ge={key:1,class:"py-5"},fe=["disabled"],be={layout:z,data(){return{deleteModal:!1}}},xe=Object.assign(be,{__name:"Program",props:["program_list","canEdit","filters"],setup(i){const C=i;m(null);const d=m(!1),_=m(null),c=B({search:C.filters.search});function b(){c.search==""?f.get("/admin/program"):c.get("/admin/program",{preserveState:!0,preserveScroll:!0})}function D(a){f.get("/admin/program/"+a+"/edit")}function M(){f.post("/admin/program/delete",{id:_.value.id},{onStart:()=>{d.value=!0},onFinish:()=>{d.value=!1},preserveState:!1})}return(a,h)=>{const P=n("Head"),A=n("AdminPanel"),p=n("Link"),S=n("content-table"),F=n("content-container"),N=n("DeleteModal"),v=n("Notification");return l(),r(x,null,[o(P,{title:"Program List"}),o(A),o(F,{pageTitle:"Program List",hasTopButton:"true",hasNavigation:"true",hasSearch:"true",hasFilters:"true",data_list:i.program_list},{"top-button":s(()=>[o(p,{href:"/admin/program/create"},{default:s(()=>[H]),_:1})]),navigation:s(()=>[e("div",null,[e("div",null,[K,o(p,{href:a.route("admin.discipline.list")},{default:s(()=>[q]),_:1},8,["href"])])])]),search:s(()=>[e("div",R,[w(e("input",{onKeydown:j(b,["enter"]),"onUpdate:modelValue":h[0]||(h[0]=t=>k(c).search=t),type:"search",id:"content-search",placeholder:"Search",class:"w-full rounded-full bg-slate-100 h-10 border-none indent-3 text-base placeholder-gray-400 pr-11 mr-2"},null,544),[[L,k(c).search]]),e("button",{onClick:b,class:"hover:bg-gray-300 active:text-blue-500 h-10 w-10 rounded-full absolute right-3"},G)])]),options:s(()=>[e("div",I,[o(p,{href:"/admin/program"},{default:s(()=>[J]),_:1})])]),"main-content":s(()=>[o(S,null,{"table-head":s(()=>[Q,W,X,w(e("th",Y,ee,512),[[E,i.canEdit]])]),"table-body":s(()=>[i.program_list.data.length==0?(l(),r("tr",te,oe)):(l(!0),r(x,{key:1},V(i.program_list.data,(t,T)=>{var y;return l(),r("tr",{key:t.id,class:O(["hover:bg-gray-100",{"bg-slate-200":T%2==0}])},[e("td",ae,u(t.program),1),e("td",ne,u(t.major),1),e("td",le,u((y=t.discipline)==null?void 0:y.discipline),1),e("td",re,[e("button",{onClick:$=>{a.deleteModal=!0,_.value=t},class:"select-none h-10 w-10 rounded bg-white text-gray-700 hover:text-black active:text-red-500 border-2 border-gray-500 tooltipForActions","data-tooltip":"Delete"},ce,8,ie),e("button",{onClick:$=>D(t.id),class:"ml-1 select-none h-10 w-10 rounded bg-white text-gray-700 hover:text-black active:text-blue-500 border-2 border-gray-500 tooltipForActions","data-tooltip":"Edit"},_e,8,he)])],2)}),128))]),_:1})]),_:1},8,["data_list"]),o(N,{title:"Delete Program",onClose:h[1]||(h[1]=t=>a.deleteModal=!1),showModal:a.deleteModal},{message:s(()=>{var t;return[d.value?(l(),r("div",pe,[g(" Deleting "),me])):(l(),r("div",ge,[g("Are you sure you want to delete "),e("b",null,u((t=_.value)==null?void 0:t.program),1),g("? This action can't be undone.")]))]}),buttons:s(()=>[e("button",{onClick:M,disabled:d.value,class:"h-10 w-16 rounded bg-red-500 hover:bg-red-600 text-white"},"Delete",8,fe)]),_:1},8,["showModal"]),o(v,{message:a.$page.props.flash.success,type:"success"},null,8,["message"]),o(v,{message:a.$page.props.flash.failed,type:"failed"},null,8,["message"])],64)}}});export{xe as default};
