import{T as L,A as u,o as s,f as o,a as r,w as a,g as b,F as g,O as P,b as t,d as k,t as c,i as $,B as M,u as f,z as V,n as y,C as v}from"./app-f4d80686.js";import B from"./Layout-713aa5ab.js";const I={class:"ml-5 text-base text-gray-500"},j={key:0},q=t("button",{class:"text-blue-500 h-10 mr-8 border-b-2 relative font-bold border-blue-500"}," Active users ",-1),F=t("button",{class:"text-gray-500 hover:text-black"}," Request ",-1),O={class:"w-full flex justify-end relative"},R=t("i",{class:"fas fa-search"},null,-1),z=[R],K={class:"mr-1"},Y=t("button",{class:"px-2 border-2 w-12 whitespace-nowrap rounded h-10 text-gray-600 hover:text-black border-gray-500"},[t("i",{class:"fas fa-refresh"})],-1),G={class:"mr-1"},J={class:"flex justify-between items-center px-2 min-w-6 border-2 whitespace-nowrap rounded h-10 text-gray-600 hover:text-black border-gray-500"},Q={key:0},W={key:1},X=t("i",{class:"fas fa-caret-down ml-2"},null,-1),Z={class:"w-52"},tt=t("div",{class:"px-3 text-gray-600 text-sm font-bold tracking-tight"}," TYPE ",-1),et=t("th",{class:"p-3"},"Name/Email",-1),st=t("th",{class:"p-3"},"Type",-1),ot=t("th",{class:"p-3"},"Role",-1),nt=t("th",{class:"p-3"},"Discipline/Program",-1),at=t("th",{class:"p-3"},"HEI Name",-1),lt=t("th",{class:"p-3 text-right"},[t("i",{class:"fas fa-ellipsis-v"})],-1),it={key:0},rt=t("td",{class:"py-10 text-center",colspan:"6"}," No users found ",-1),ct=[rt],dt={class:"p-3"},ht={class:"flex flex-row"},ut={class:"mr-3 w-10"},_t=["src"],pt={class:"flex flex-col"},mt={class:"font-bold"},ft={class:"p-3"},gt={class:"p-3 whitespace-normal"},yt={class:"p-3 whitespace-normal"},bt={class:"p-3 whitespace-normal"},vt={key:0,class:"p-3 text-right"},wt=["onClick"],xt={key:0},kt={data(){return{modal:!1,selectedUser:"",modaltype:"",title:"",openSelectPageDropdown:!1}},layout:B,methods:{toggleModal(i,l,n){this.modal=!this.modal,this.selectedUser=i,this.modaltype=l,this.title=n},closeModal(){this.modal=!1}}},Dt=Object.assign(kt,{__name:"User-List",props:["user_list","count","canEdit","filters"],setup(i){const l=i,n=L({search:l.filters.search,sort:l.filters.sort,type:l.filters.type});function p(){n.search==""&&n.sort==""&&n.filter==""?P.get("/admin/users/list"):n.get("/admin/users/list",{preserveState:!0,preserveScroll:!0})}return(d,h)=>{const C=u("Head"),E=u("AdminPanel"),w=u("Link"),D=u("dropdown-option"),N=u("content-table"),H=u("content-container"),U=u("Notification"),S=u("Confirmation");return s(),o(g,null,[r(C,{title:"Users List"}),r(E),r(H,{onSubmit:p,pageTitle:"Active Users List",hasPageDescription:"true",hasNavigation:"true",hasSearch:"true",hasFilters:"true",data_list:i.user_list},{"page-description":a(()=>[t("div",I,[k("( "+c(i.count)+" Result",1),i.count>1?(s(),o("span",j,"s")):b("",!0),k(" )")])]),navigation:a(()=>[t("div",null,[q,r(w,{href:d.route("admin.users.request")},{default:a(()=>[F]),_:1},8,["href"])])]),search:a(()=>[t("div",O,[$(t("input",{onKeydown:V(p,["enter"]),"onUpdate:modelValue":h[0]||(h[0]=e=>f(n).search=e),type:"search",id:"content-search",placeholder:"Search a user",class:"w-full rounded-full bg-slate-100 h-10 border-none indent-3 text-base placeholder-gray-400 pr-11 mr-2"},null,544),[[M,f(n).search]]),t("button",{onClick:p,class:"hover:bg-gray-300 active:text-blue-500 h-10 w-10 rounded-full absolute right-3"},z)])]),options:a(()=>[t("div",K,[r(w,{href:"/admin/users/list"},{default:a(()=>[Y]),_:1})]),t("div",G,[r(D,{position:"right"},{button:a(()=>[t("button",J,[l.filters.type==null?(s(),o("span",Q,"Type")):(s(),o("span",W,c(l.filters.type),1)),X])]),options:a(()=>[t("div",Z,[tt,t("button",{"preserve-state":"",onClick:h[1]||(h[1]=e=>{f(n).type="",p()}),class:y(["w-full py-0.5 text-left indent-7 hover:bg-gray-200",{"bg-gray-300":l.filters.type==null}])}," All ",2),t("button",{onClick:h[2]||(h[2]=e=>{f(n).type="CHED",p()}),class:y(["w-full py-0.5 text-left indent-7 hover:bg-gray-200",{"bg-gray-300":l.filters.type=="CHED"}])}," CHED ",2),t("button",{onClick:h[3]||(h[3]=e=>{f(n).type="HEI",p()}),class:y(["w-full py-0.5 text-left indent-7 hover:bg-gray-200",{"bg-gray-300":l.filters.type=="HEI"}])}," HEI ",2)])]),_:1})])]),"main-content":a(()=>[r(N,null,{"table-head":a(()=>[et,st,ot,nt,at,lt]),"table-body":a(()=>[i.user_list.data.length==0?(s(),o("tr",it,ct)):(s(!0),o(g,{key:1},v(i.user_list.data,(e,T)=>(s(),o("tr",{key:e.id,class:y({"bg-slate-200":T%2==0})},[t("td",dt,[t("div",ht,[t("div",ut,[t("img",{src:e.avatar?e.avatar:"/assets/user.png",alt:"user",class:"rounded-full"},null,8,_t)]),t("div",pt,[t("div",mt,c(e.name),1),t("div",null,c(e.email),1)])])]),t("td",ft,c(e.type),1),t("td",gt,c(e.role),1),t("td",yt,[(s(!0),o(g,null,v(e.user_role,(_,A)=>{var m,x;return s(),o("div",{key:_.id},c((m=_.discipline)==null?void 0:m.discipline)+" "+c((x=_.program)==null?void 0:x.program),1)}),128))]),t("td",bt,[(s(!0),o(g,null,v(e.user_role,(_,A)=>{var m;return s(),o("div",{key:_.id},c((m=_.institution)==null?void 0:m.name),1)}),128))]),i.canEdit?(s(),o("td",vt,[t("button",{onClick:_=>d.toggleModal(e,"deactivateUser","Deactivate User"),class:"h-8 px-2 text-white bg-red-500 hover:bg-red-600 rounded mr-1"}," Deactivate ",8,wt)])):b("",!0)],2))),128))]),_:1})]),_:1},8,["data_list"]),r(U,{message:d.$page.props.flash.success},null,8,["message"]),d.modal?(s(),o("div",xt,[r(S,{onClose:d.closeModal,title:d.title,modaltype:d.modaltype,selected:d.selectedUser},null,8,["onClose","title","modaltype","selected"])])):b("",!0)],64)}}});export{Dt as default};
