import{m as A,T as j,A as _,o as s,f as o,a as i,w as n,F as b,i as f,p as k,b as e,B as T,u as g,z as $,g as S,C as y,n as B,t as h,d as L,D as U}from"./app-eaf9df37.js";import P from"./Layout-8d14705d.js";const z=e("button",{class:"select-none h-12 w-24 hover:bg-gray-100 text-gray-700 hover:text-black"}," Active ",-1),K=e("button",{class:"select-none h-12 w-24 hover:bg-gray-100 text-blue-500 border-b-4 font-bold border-blue-500"}," Request ",-1),O=e("button",{class:"select-none h-12 w-24 hover:bg-gray-100 text-gray-700 hover:text-black"}," Inactive ",-1),G={class:"w-full flex flex-row relative items-center"},J=e("i",{class:"fa fa-search text-gray-400 absolute left-5"},null,-1),Q={class:"mr-1"},W=e("i",{class:"fas fa-filter"},null,-1),X=[W],Y=e("button",{class:"w-10 h-10 whitespace-nowrap hover:bg-gray-200 rounded-full text-gray-700 hover:text-blue-500 active:text-white active:bg-blue-600 tooltipForActions","data-tooltip":"Refresh page"},[e("i",{class:"fas fa-refresh"})],-1),Z=e("th",{class:"p-2 pl-5"},"Name/Email",-1),ee=e("th",{class:"p-2"},"Type",-1),te=e("th",{class:"p-2"},"Role",-1),se=e("th",{class:"p-2"},"Discipline",-1),oe=e("th",{class:"p-2"},"Program",-1),le=e("th",{class:"p-2"},"HEI Name",-1),ae={class:"p-2 pr-5 text-right"},ne=e("i",{class:"fas fa-ellipsis-v"},null,-1),ie=[ne],re={key:0},ce=e("td",{class:"py-10 text-center",colspan:"7"}," No users found ",-1),de=[ce],he={class:"p-2 pl-5"},ue={class:"flex flex-row"},_e={class:"mr-3 w-10"},pe=["src"],fe={class:"flex flex-col"},ge={class:"font-bold"},me={class:"p-2"},ve={class:"p-2"},be={class:"p-2"},ye={class:"p-2"},we={key:0},xe={class:"p-2"},ke={class:"p-2 text-right pr-5 whitespace-nowrap"},Ce=["onClick"],Fe=e("i",{class:"fas fa-check"},null,-1),Me=[Fe],Ae=["onClick"],Se=e("i",{class:"fas fa-times"},null,-1),Ue=[Se],Ee={class:"flex flex-col"},Ne=e("label",{for:"type"},"Account Type",-1),Re=e("option",{value:null},"All",-1),qe=e("option",{value:"HEI"},"HEI",-1),De=e("option",{value:"CHED"},"CHED",-1),He=[Re,qe,De],Ie={class:"mt-3 flex flex-col"},Ve=e("label",{for:"show"},"Items per page",-1),je=e("option",{value:"25"},"25",-1),Te=e("option",{value:"50"},"50",-1),$e=e("option",{value:"100"},"100",-1),Be=e("option",{value:"200"},"200",-1),Le=[je,Te,$e,Be],Pe={key:0},ze=e("i",{class:"fas fa-spinner animate-spin"},null,-1),Ke=[ze],Oe={key:1},Ge={data(){return{modal:!1,selectedUser:"",modaltype:"",title:"",openSelectPageDropdown:!1}},layout:P,methods:{toggleModal(r,u,m){this.modal=!this.modal,this.selectedUser=r,this.modaltype=u,this.title=m},closeModal(){this.modal=!1}}},We=Object.assign(Ge,{__name:"User-Request",props:["user_list","showInactive","canEdit","canFilter","filters"],setup(r){const u=r,m=A(!1),v=A(!1),c=j({show:u.filters.show!=null?u.filters.show:null,search:u.filters.search,type:u.filters.type!=null?u.filters.type:null});function w(){m.value=!m.value}function E(){c.get("/admin/users/request",{onStart:()=>{v.value=!0},onFinish:()=>{v.value=!1},preserveState:!1,preserveScroll:!0})}function N(){c.get("/admin/users/request",{onStart:()=>{v.value=!0},onFinish:()=>{v.value=!1,w()},preserveState:!0,preserveScroll:!0})}return(a,p)=>{const R=_("Head"),x=_("Link"),q=_("content-table"),D=_("content-container"),H=_("modal"),C=_("Notification"),I=_("Confirmation");return s(),o(b,null,[i(R,{title:"Users Registration"}),i(D,{hasAdminPanel:!0,pageTitle:"Request List",page:"user",hasNavigation:!0,hasSearch:!0,hasFilters:!0,data_list:r.user_list},{navigation:n(()=>[i(x,{href:a.route("admin.users.list")},{default:n(()=>[z]),_:1},8,["href"]),K,f(i(x,{href:a.route("admin.users.inactive")},{default:n(()=>[O]),_:1},8,["href"]),[[k,r.showInactive]])]),search:n(()=>[e("div",G,[J,f(e("input",{onKeydown:$(E,["enter"]),"onUpdate:modelValue":p[0]||(p[0]=t=>g(c).search=t),type:"search",id:"content-search",placeholder:"Search",class:"w-full rounded-lg border border-gray-300 indent-10 h-10 text-base placeholder-gray-400"},null,544),[[T,g(c).search]])])]),options:n(()=>[e("div",Q,[e("button",{onClick:w,class:"w-10 h-10 whitespace-nowrap hover:bg-gray-200 rounded-full text-gray-700 hover:text-blue-500 active:text-white active:bg-blue-600 tooltipForActions","data-tooltip":"Filters"},X),i(x,{href:"/admin/users/request"},{default:n(()=>[Y]),_:1})])]),"main-content":n(()=>[i(q,null,{"table-head":n(()=>[Z,ee,te,se,oe,le,f(e("th",ae,ie,512),[[k,r.canEdit]])]),"table-body":n(()=>[r.user_list.data.length==0?(s(),o("tr",re,de)):S("",!0),(s(!0),o(b,null,y(r.user_list.data,(t,V)=>(s(),o("tr",{key:t.id,class:B(["hover:bg-gray-200 border-b align-top",{"bg-gray-100":V%2==1}])},[e("td",he,[e("div",ue,[e("div",_e,[e("img",{src:t.avatar?t.avatar:"/assets/user.png",class:"rounded-full"},null,8,pe)]),e("div",fe,[e("div",ge,h(t.name),1),e("div",null,h(t.email),1)])])]),e("td",me,h(t.type),1),e("td",ve,h(t.role),1),e("td",be,[(s(!0),o(b,null,y(t.user_role,l=>{var d;return s(),o("div",{key:l.id},h((d=l.discipline)==null?void 0:d.discipline),1)}),128))]),e("td",ye,[(s(!0),o(b,null,y(t.user_role,l=>{var d,F,M;return s(),o("div",{key:l.id},[L(h((d=l.program)==null?void 0:d.program)+" ",1),((F=l.program)==null?void 0:F.major)!=null?(s(),o("span",we," - "+h((M=l.program)==null?void 0:M.major),1)):S("",!0)])}),128))]),e("td",xe,[(s(!0),o(b,null,y(t.user_role,l=>{var d;return s(),o("div",{key:l.id},h((d=l.institution)==null?void 0:d.name),1)}),128))]),f(e("td",ke,[e("button",{onClick:l=>a.toggleModal(t,"accept","Accept User"),class:"select-none h-8 w-8 text-xl text-center rounded-full hover:bg-gray-300 text-blue-500 hover:text-blue-600 tooltipForActions","data-tooltip":"Accept User"},Me,8,Ce),e("button",{onClick:l=>a.toggleModal(t,"reject","Reject User"),class:"select-none h-8 w-8 text-xl text-center rounded-full hover:bg-gray-300 text-red-500 hover:text-red-600 tooltipForActions","data-tooltip":"Reject User"},Ue,8,Ae)],512),[[k,r.canEdit]])],2))),128))]),_:1})]),_:1},8,["data_list"]),i(H,{showModal:m.value,onClose:w,width:"sm",height:"long",title:"Filters"},{"custom-button":n(()=>[e("button",{onClick:N,class:"text-white bg-green-600 hover:bg-green-700 w-20 rounded h-10"},[v.value?(s(),o("span",Pe,Ke)):(s(),o("span",Oe,"Apply"))])]),default:n(()=>[e("div",null,[e("div",Ee,[Ne,f(e("select",{"onUpdate:modelValue":p[1]||(p[1]=t=>g(c).type=t),id:"type",class:"rounded border-gray-400"},He,512),[[U,g(c).type]])]),e("div",Ie,[Ve,f(e("select",{"onUpdate:modelValue":p[2]||(p[2]=t=>g(c).show=t),id:"show",class:"rounded border-gray-400"},Le,512),[[U,g(c).show]])])])]),_:1},8,["showModal"]),i(C,{message:a.$page.props.flash.success,type:"success"},null,8,["message"]),i(C,{message:a.$page.props.flash.failed,type:"failed"},null,8,["message"]),i(I,{showModal:a.modal,onClose:a.closeModal,title:a.title,modaltype:a.modaltype,selected:a.selectedUser,width:"md",height:"short"},null,8,["showModal","onClose","title","modaltype","selected"])],64)}}});export{We as default};
