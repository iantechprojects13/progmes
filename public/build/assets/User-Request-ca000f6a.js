import{T as S,A as p,o as s,f as o,a as c,w as l,g,F as b,O as T,b as e,d as k,t as d,i as $,B as j,u as f,z as M,n as y,C as v}from"./app-f4d80686.js";import P from"./Layout-713aa5ab.js";const V={class:"ml-5 text-base text-gray-500"},B={key:0},I=e("button",{class:"text-gray-500 hover:text-blackh-10 mr-8"}," Active users ",-1),L=e("button",{class:"text-blue-500 h-10 border-b-2 font-bold border-blue-500"}," Request ",-1),F={class:"w-full flex justify-end relative"},O=e("i",{class:"fas fa-search"},null,-1),z=[O],K={class:"mr-1"},Y=e("button",{class:"px-2 border-2 w-12 whitespace-nowrap rounded h-10 text-gray-600 hover:text-black border-gray-500"},[e("i",{class:"fas fa-refresh"})],-1),G={class:"mr-1"},J={class:"flex justify-between items-center px-2 min-w-6 border-2 whitespace-nowrap rounded h-10 text-gray-600 hover:text-black border-gray-500"},Q={key:0},W={key:1},X=e("i",{class:"fas fa-caret-down ml-2"},null,-1),Z={class:"w-52"},ee=e("div",{class:"px-3 text-gray-600 text-sm font-bold tracking-tight"}," TYPE ",-1),te=e("th",{class:"p-3"},"Name/Email",-1),se=e("th",{class:"p-3"},"Type",-1),oe=e("th",{class:"p-3"},"Role",-1),ne=e("th",{class:"p-3"},"Discipline/Program",-1),le=e("th",{class:"p-3"},"HEI Name",-1),ae={key:0},ie=e("td",{class:"py-10 text-center",colspan:"5"}," No users found ",-1),re=[ie],ce={class:"p-3"},de={class:"flex flex-row"},ue={class:"mr-3 w-10"},he=["src"],pe={class:"flex flex-col"},_e={class:"font-bold"},me={class:"p-3"},fe={class:"p-3 whitespace-normal"},ge={class:"p-3 whitespace-normal"},be={class:"p-3 whitespace-normal"},ye={key:0,class:"p-3 text-right px-3"},ve=["onClick"],we=["onClick"],xe={key:0},ke={data(){return{modal:!1,selectedUser:"",modaltype:"",title:"",openSelectPageDropdown:!1}},layout:P,methods:{toggleModal(i,a,n){this.modal=!this.modal,this.selectedUser=i,this.modaltype=a,this.title=n},closeModal(){this.modal=!1}}},Ne=Object.assign(ke,{__name:"User-Request",props:["user_list","count","canEdit","filters"],setup(i){const a=i,n=S({search:a.filters.search,sort:a.filters.sort,type:a.filters.type});function _(){n.search==""&&n.sort==""&&n.filter==""?T.get("/admin/users/request"):n.get("/admin/users/request",{preserveState:!0,preserveScroll:!0})}return(r,u)=>{const C=p("Head"),E=p("AdminPanel"),w=p("Link"),N=p("dropdown-option"),H=p("content-table"),q=p("content-container"),D=p("Notification"),R=p("Confirmation");return s(),o(b,null,[c(C,{title:"Users Request"}),c(E),c(q,{onSubmit:_,pageTitle:"Request List",hasPageDescription:"true",hasNavigation:"true",hasSearch:"true",hasFilters:"true",data_list:i.user_list},{"page-description":l(()=>[e("div",V,[k("( "+d(i.count)+" Result",1),i.count>1?(s(),o("span",B,"s")):g("",!0),k(" )")])]),navigation:l(()=>[e("div",null,[c(w,{href:r.route("admin.users.list")},{default:l(()=>[I]),_:1},8,["href"]),L])]),search:l(()=>[e("div",F,[$(e("input",{onKeydown:M(_,["enter"]),"onUpdate:modelValue":u[0]||(u[0]=t=>f(n).search=t),type:"search",id:"content-search",placeholder:"Search a user",class:"w-full rounded-full bg-slate-100 h-10 border-none indent-3 text-base placeholder-gray-400 pr-11 mr-2"},null,544),[[j,f(n).search]]),e("button",{onClick:_,class:"hover:bg-gray-300 active:text-blue-500 h-10 w-10 rounded-full absolute right-3"},z)])]),options:l(()=>[e("div",K,[c(w,{href:"/admin/users/request"},{default:l(()=>[Y]),_:1})]),e("div",G,[c(N,{position:"right"},{button:l(()=>[e("button",J,[a.filters.type==null?(s(),o("span",Q,"Type")):(s(),o("span",W,d(a.filters.type),1)),X])]),options:l(()=>[e("div",Z,[ee,e("button",{"preserve-state":"",onClick:u[1]||(u[1]=t=>{f(n).type="",_()}),class:y(["w-full py-0.5 text-left indent-7 hover:bg-gray-200",{"bg-gray-300":a.filters.type==null}])}," All ",2),e("button",{onClick:u[2]||(u[2]=t=>{f(n).type="CHED",_()}),class:y(["w-full py-0.5 text-left indent-7 hover:bg-gray-200",{"bg-gray-300":a.filters.type=="CHED"}])}," CHED ",2),e("button",{onClick:u[3]||(u[3]=t=>{f(n).type="HEI",_()}),class:y(["w-full py-0.5 text-left indent-7 hover:bg-gray-200",{"bg-gray-300":a.filters.type=="HEI"}])}," HEI ",2)])]),_:1})])]),"main-content":l(()=>[c(H,null,{"table-head":l(()=>[te,se,oe,ne,le]),"table-body":l(()=>[i.user_list.data.length==0?(s(),o("tr",ae,re)):g("",!0),(s(!0),o(b,null,v(i.user_list.data,(t,U)=>(s(),o("tr",{key:t.id,class:y({"bg-slate-200":U%2==0})},[e("td",ce,[e("div",de,[e("div",ue,[e("img",{src:t.avatar?t.avatar:"/assets/user.png",class:"rounded-full"},null,8,he)]),e("div",pe,[e("div",_e,d(t.name),1),e("div",null,d(t.email),1)])])]),e("td",me,d(t.type),1),e("td",fe,d(t.role),1),e("td",ge,[(s(!0),o(b,null,v(t.user_role,(h,A)=>{var m,x;return s(),o("div",{key:h.id},d((m=h.discipline)==null?void 0:m.discipline)+" "+d((x=h.program)==null?void 0:x.program),1)}),128))]),e("td",be,[(s(!0),o(b,null,v(t.user_role,(h,A)=>{var m;return s(),o("div",{key:h.id},d((m=h.institution)==null?void 0:m.name),1)}),128))]),i.canEdit?(s(),o("td",ye,[e("button",{onClick:h=>r.toggleModal(t,"reject","Reject User"),class:"h-8 px-2 text-white bg-red-500 hover:bg-red-600 rounded mr-1"}," Reject ",8,ve),e("button",{onClick:h=>r.toggleModal(t,"accept","Accept User"),class:"h-8 px-2 text-white bg-blue-500 hover:bg-blue-600 rounded"}," Accept ",8,we)])):g("",!0)],2))),128))]),_:1})]),_:1},8,["data_list"]),c(D,{message:r.$page.props.flash.success},null,8,["message"]),r.modal?(s(),o("div",xe,[c(R,{onClose:r.closeModal,title:r.title,modaltype:r.modaltype,selected:r.selectedUser},null,8,["onClose","title","modaltype","selected"])])):g("",!0)],64)}}});export{Ne as default};
