import{m as F,T as H,A as u,o as s,f as o,a as i,w as a,F as b,i as f,p as k,b as e,B as I,u as g,z as V,g as T,C as y,n as $,t as _,D as M}from"./app-a1d3aa91.js";import j from"./Layout-8eb335a9.js";const B=e("button",{class:"select-none h-12 w-24 hover:bg-gray-100 text-gray-700 hover:text-black"}," Active ",-1),L=e("button",{class:"select-none h-12 w-24 hover:bg-gray-100 text-blue-500 border-b-4 font-bold border-blue-500"}," Request ",-1),P=e("button",{class:"select-none h-12 w-24 hover:bg-gray-100 text-gray-700 hover:text-black"}," Inactive ",-1),z={class:"w-full flex flex-row relative items-center"},K=e("i",{class:"fa fa-search text-gray-400 absolute left-5"},null,-1),O={class:"mr-1"},G=e("i",{class:"fas fa-filter"},null,-1),J=[G],Q=e("button",{class:"w-10 h-10 whitespace-nowrap hover:bg-gray-200 rounded-full text-gray-700 hover:text-blue-500 active:text-white active:bg-blue-600 tooltipForActions","data-tooltip":"Refresh page"},[e("i",{class:"fas fa-refresh"})],-1),W=e("th",{class:"p-2 pl-5"},"Name/Email",-1),X=e("th",{class:"p-2"},"Type",-1),Y=e("th",{class:"p-2"},"Role",-1),Z=e("th",{class:"p-2"},"Discipline",-1),ee=e("th",{class:"p-2"},"Program",-1),te=e("th",{class:"p-2"},"HEI Name",-1),se={class:"p-2 pr-5 text-right"},oe=e("i",{class:"fas fa-ellipsis-v"},null,-1),le=[oe],ae={key:0},ne=e("td",{class:"py-10 text-center",colspan:"7"}," No users found ",-1),ie=[ne],re={class:"p-2 pl-5"},ce={class:"flex flex-row"},de={class:"mr-3 w-10"},he=["src"],ue={class:"flex flex-col"},_e={class:"font-bold"},pe={class:"p-2"},fe={class:"p-2"},ge={class:"p-2"},me={class:"p-2"},ve={class:"p-2"},be={class:"p-2 text-right pr-5 whitespace-nowrap"},ye=["onClick"],we=e("i",{class:"fas fa-check"},null,-1),xe=[we],ke=["onClick"],Ce=e("i",{class:"fas fa-times"},null,-1),Fe=[Ce],Me={class:"flex flex-col"},Ae=e("label",{for:"type"},"Account Type",-1),Se=e("option",{value:null},"All",-1),Ue=e("option",{value:"HEI"},"HEI",-1),Ee=e("option",{value:"CHED"},"CHED",-1),Ne=[Se,Ue,Ee],Re={class:"mt-3 flex flex-col"},qe=e("label",{for:"show"},"Items per page",-1),De=e("option",{value:"25"},"25",-1),He=e("option",{value:"50"},"50",-1),Ie=e("option",{value:"100"},"100",-1),Ve=e("option",{value:"200"},"200",-1),Te=[De,He,Ie,Ve],$e={key:0},je=e("i",{class:"fas fa-spinner animate-spin"},null,-1),Be=[je],Le={key:1},Pe={data(){return{modal:!1,selectedUser:"",modaltype:"",title:"",openSelectPageDropdown:!1}},layout:j,methods:{toggleModal(r,h,m){this.modal=!this.modal,this.selectedUser=r,this.modaltype=h,this.title=m},closeModal(){this.modal=!1}}},Oe=Object.assign(Pe,{__name:"User-Request",props:["user_list","showInactive","canEdit","canFilter","filters"],setup(r){const h=r,m=F(!1),v=F(!1),c=H({show:h.filters.show!=null?h.filters.show:null,search:h.filters.search,type:h.filters.type!=null?h.filters.type:null});function w(){m.value=!m.value}function A(){c.get("/admin/users/request",{onStart:()=>{v.value=!0},onFinish:()=>{v.value=!1},preserveState:!1,preserveScroll:!0})}function S(){c.get("/admin/users/request",{onStart:()=>{v.value=!0},onFinish:()=>{v.value=!1,w()},preserveState:!0,preserveScroll:!0})}return(l,p)=>{const U=u("Head"),x=u("Link"),E=u("content-table"),N=u("content-container"),R=u("modal"),C=u("Notification"),q=u("Confirmation");return s(),o(b,null,[i(U,{title:"Users Registration"}),i(N,{hasAdminPanel:!0,pageTitle:"Request List",page:"user",hasNavigation:!0,hasSearch:!0,hasFilters:!0,data_list:r.user_list},{navigation:a(()=>[i(x,{href:l.route("admin.users.list")},{default:a(()=>[B]),_:1},8,["href"]),L,f(i(x,{href:l.route("admin.users.inactive")},{default:a(()=>[P]),_:1},8,["href"]),[[k,r.showInactive]])]),search:a(()=>[e("div",z,[K,f(e("input",{onKeydown:V(A,["enter"]),"onUpdate:modelValue":p[0]||(p[0]=t=>g(c).search=t),type:"search",id:"content-search",placeholder:"Search",class:"w-full rounded-lg border border-gray-300 indent-10 h-10 text-base placeholder-gray-400"},null,544),[[I,g(c).search]])])]),options:a(()=>[e("div",O,[e("button",{onClick:w,class:"w-10 h-10 whitespace-nowrap hover:bg-gray-200 rounded-full text-gray-700 hover:text-blue-500 active:text-white active:bg-blue-600 tooltipForActions","data-tooltip":"Filters"},J),i(x,{href:"/admin/users/request"},{default:a(()=>[Q]),_:1})])]),"main-content":a(()=>[i(E,null,{"table-head":a(()=>[W,X,Y,Z,ee,te,f(e("th",se,le,512),[[k,r.canEdit]])]),"table-body":a(()=>[r.user_list.data.length==0?(s(),o("tr",ae,ie)):T("",!0),(s(!0),o(b,null,y(r.user_list.data,(t,D)=>(s(),o("tr",{key:t.id,class:$(["hover:bg-gray-200 border-b align-top",{"bg-gray-100":D%2==1}])},[e("td",re,[e("div",ce,[e("div",de,[e("img",{src:t.avatar?t.avatar:"/assets/user.png",class:"rounded-full"},null,8,he)]),e("div",ue,[e("div",_e,_(t.name),1),e("div",null,_(t.email),1)])])]),e("td",pe,_(t.type),1),e("td",fe,_(t.role),1),e("td",ge,[(s(!0),o(b,null,y(t.user_role,n=>{var d;return s(),o("div",{key:n.id},_((d=n.discipline)==null?void 0:d.discipline),1)}),128))]),e("td",me,[(s(!0),o(b,null,y(t.user_role,n=>{var d;return s(),o("div",{key:n.id},_((d=n.program)==null?void 0:d.program),1)}),128))]),e("td",ve,[(s(!0),o(b,null,y(t.user_role,n=>{var d;return s(),o("div",{key:n.id},_((d=n.institution)==null?void 0:d.name),1)}),128))]),f(e("td",be,[e("button",{onClick:n=>l.toggleModal(t,"accept","Accept User"),class:"select-none h-8 w-8 text-xl text-center rounded-full hover:bg-gray-300 text-blue-500 hover:text-blue-600 tooltipForActions","data-tooltip":"Accept User"},xe,8,ye),e("button",{onClick:n=>l.toggleModal(t,"reject","Reject User"),class:"select-none h-8 w-8 text-xl text-center rounded-full hover:bg-gray-300 text-red-500 hover:text-red-600 tooltipForActions","data-tooltip":"Reject User"},Fe,8,ke)],512),[[k,r.canEdit]])],2))),128))]),_:1})]),_:1},8,["data_list"]),i(R,{showModal:m.value,onClose:w,width:"sm",height:"long",title:"Filters"},{"custom-button":a(()=>[e("button",{onClick:S,class:"text-white bg-green-600 hover:bg-green-700 w-20 rounded h-10"},[v.value?(s(),o("span",$e,Be)):(s(),o("span",Le,"Apply"))])]),default:a(()=>[e("div",null,[e("div",Me,[Ae,f(e("select",{"onUpdate:modelValue":p[1]||(p[1]=t=>g(c).type=t),id:"type",class:"rounded border-gray-400"},Ne,512),[[M,g(c).type]])]),e("div",Re,[qe,f(e("select",{"onUpdate:modelValue":p[2]||(p[2]=t=>g(c).show=t),id:"show",class:"rounded border-gray-400"},Te,512),[[M,g(c).show]])])])]),_:1},8,["showModal"]),i(C,{message:l.$page.props.flash.success,type:"success"},null,8,["message"]),i(C,{message:l.$page.props.flash.failed,type:"failed"},null,8,["message"]),i(q,{showModal:l.modal,onClose:l.closeModal,title:l.title,modaltype:l.modaltype,selected:l.selectedUser,width:"md",height:"short"},null,8,["showModal","onClose","title","modaltype","selected"])],64)}}});export{Oe as default};
